import{b as S,d as g,f as C,g as T,h as k,j as p,l as y,m as F,n as I,o as D,q as E,t as _,x as w,y as G}from"./chunk-6LQOCUEZ.js";import{a as x}from"./chunk-3JOYIHQ7.js";import{Ba as c,Ta as n,Ua as a,Va as e,Wa as u,bb as f,dd as L,ed as O,hc as b,ic as h,oc as M,qb as l,ra as r,ya as m,zb as v}from"./chunk-AQQ2OTRN.js";var B=()=>["/"],U=(()=>{let i=class i{constructor(d,o,t){this.bookService=d,this.loaderService=o,this.router=t,this.form=new k({title:new p("",[g.required]),description:new p("")})}ngOnInit(){this.form.controls.title.setValue(this.dbTitle.title),this.form.controls.description.setValue(this.dbTitle.description)}save(){this.form.controls.title.value&&(this.dbTitle.title=this.form.controls.title.value,this.dbTitle.description=this.form.controls.description.value||"",this.dbTitle.lastOpenedTime=Date.now(),this.loaderService.start(),this.bookService.updateTitle$(this.dbTitle).subscribe(()=>{this.loaderService.stop(),this.router.navigate(["/"]).then()}))}};i.\u0275fac=function(o){return new(o||i)(m(M),m(x),m(b))},i.\u0275cmp=c({type:i,selectors:[["app-edit-book-header"]],inputs:{dbTitle:"dbTitle"},decls:16,vars:6,consts:[[1,"component"],[1,"form",3,"formGroup"],["appearance","outline",1,"title"],["matInput","",3,"formControl"],["appearance","outline",1,"description"],[1,"buttons"],["mat-button","","color","primary",3,"routerLink"],["mat-button","","color","primary",3,"click","disabled"]],template:function(o,t){o&1&&(a(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),l(4,"Title"),e(),u(5,"input",3),e(),a(6,"mat-form-field",4)(7,"mat-label"),l(8,"Description"),e(),a(9,"textarea",3),l(10," "),e()()(),a(11,"div",5)(12,"button",6),l(13," Cancel"),e(),a(14,"button",7),f("click",function(){return t.save()}),l(15," Save"),e()()()),o&2&&(r(),n("formGroup",t.form),r(4),n("formControl",t.form.controls.title),r(4),n("formControl",t.form.controls.description),r(3),n("routerLink",v(5,B)),r(2),n("disabled",t.form.invalid))},dependencies:[I,S,C,T,G,w,_,E,D,y,F,O,L,h],styles:[".component[_ngcontent-%COMP%]{padding:var(--padding-main);padding-top:var(--padding-xlarge)}.component[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}"]});let s=i;return s})();export{U as EditBookHeaderComponent};
