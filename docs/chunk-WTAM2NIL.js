import{c as ht}from"./chunk-UBMR2UBB.js";import{p as lt}from"./chunk-7CLDBU2A.js";import{A as g,Ba as Q,C as h,Ca as X,Db as it,E as B,H as z,Jb as D,Ka as tt,L as S,M as V,Na as et,O as u,Oa as rt,Qc as O,R as Y,T as p,U as q,Ub as F,V as M,W as G,X as a,Y as d,Yb as st,cb as ot,db as nt,e as w,ec as v,g as k,ga as Z,gc as ct,h as T,i as j,ic as at,ja as C,k as H,ka as J,l as m,m as W,n as l,o as U,oa as K,p as x,s as $,sa as y}from"./chunk-5LRB2IYA.js";var R;function Ft(){if(R===void 0&&(R=null,typeof window<"u")){let o=window;o.trustedTypes!==void 0&&(R=o.trustedTypes.createPolicy("angular#components",{createHTML:i=>i}))}return R}function b(o){return Ft()?.createHTML(o)||o}function ut(o){return Error(`Unable to find icon with the name "${o}"`)}function Rt(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function ft(o){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${o}".`)}function mt(o){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${o}".`)}var f=class{url;svgText;options;svgElement;constructor(i,t,e){this.url=i,this.svgText=t,this.options=e}},dt=(()=>{class o{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(t,e,r,n){this._httpClient=t,this._sanitizer=e,this._errorHandler=n,this._document=r}addSvgIcon(t,e,r){return this.addSvgIconInNamespace("",t,e,r)}addSvgIconLiteral(t,e,r){return this.addSvgIconLiteralInNamespace("",t,e,r)}addSvgIconInNamespace(t,e,r,n){return this._addSvgIconConfig(t,e,new f(r,null,n))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,r,n){let s=this._sanitizer.sanitize(y.HTML,r);if(!s)throw mt(r);let c=b(s);return this._addSvgIconConfig(t,e,new f("",c,n))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,r){return this._addSvgIconSetConfig(t,new f(e,null,r))}addSvgIconSetLiteralInNamespace(t,e,r){let n=this._sanitizer.sanitize(y.HTML,e);if(!n)throw mt(e);let s=b(n);return this._addSvgIconSetConfig(t,new f("",s,r))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let e=this._sanitizer.sanitize(y.RESOURCE_URL,t);if(!e)throw ft(t);let r=this._cachedIconsByUrl.get(e);return r?m(A(r)):this._loadSvgIconFromConfig(new f(t,null)).pipe(u(n=>this._cachedIconsByUrl.set(e,n)),l(n=>A(n)))}getNamedSvgIcon(t,e=""){let r=pt(e,t),n=this._svgIconConfigs.get(r);if(n)return this._getSvgFromConfig(n);if(n=this._getIconConfigFromResolvers(e,t),n)return this._svgIconConfigs.set(r,n),this._getSvgFromConfig(n);let s=this._iconSetConfigs.get(e);return s?this._getSvgFromIconSetConfigs(t,s):W(ut(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?m(A(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(l(e=>A(e)))}_getSvgFromIconSetConfigs(t,e){let r=this._extractIconWithNameFromAnySet(t,e);if(r)return m(r);let n=e.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(g(c=>{let I=`Loading icon set URL: ${this._sanitizer.sanitize(y.RESOURCE_URL,s.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(I)),m(null)})));return $(n).pipe(l(()=>{let s=this._extractIconWithNameFromAnySet(t,e);if(!s)throw ut(t);return s}))}_extractIconWithNameFromAnySet(t,e){for(let r=e.length-1;r>=0;r--){let n=e[r];if(n.svgText&&n.svgText.toString().indexOf(t)>-1){let s=this._svgElementFromConfig(n),c=this._extractSvgIconFromSet(s,t,n.options);if(c)return c}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(u(e=>t.svgText=e),l(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?m(null):this._fetchIcon(t).pipe(u(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,r){let n=t.querySelector(`[id="${e}"]`);if(!n)return null;let s=n.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,r);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),r);let c=this._svgElementFromString(b("<svg></svg>"));return c.appendChild(s),this._setSvgAttributes(c,r)}_svgElementFromString(t){let e=this._document.createElement("DIV");e.innerHTML=t;let r=e.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){let e=this._svgElementFromString(b("<svg></svg>")),r=t.attributes;for(let n=0;n<r.length;n++){let{name:s,value:c}=r[n];s!=="id"&&e.setAttribute(s,c)}for(let n=0;n<t.childNodes.length;n++)t.childNodes[n].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[n].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){let{url:e,options:r}=t,n=r?.withCredentials??!1;if(!this._httpClient)throw Rt();if(e==null)throw Error(`Cannot fetch icon from URL "${e}".`);let s=this._sanitizer.sanitize(y.RESOURCE_URL,e);if(!s)throw ft(e);let c=this._inProgressUrlFetches.get(s);if(c)return c;let _=this._httpClient.get(s,{responseType:"text",withCredentials:n}).pipe(l(I=>b(I)),B(()=>this._inProgressUrlFetches.delete(s)),z());return this._inProgressUrlFetches.set(s,_),_}_addSvgIconConfig(t,e,r){return this._svgIconConfigs.set(pt(t,e),r),this}_addSvgIconSetConfig(t,e){let r=this._iconSetConfigs.get(t);return r?r.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){let e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let r=0;r<this._resolvers.length;r++){let n=this._resolvers[r](e,t);if(n)return At(n)?new f(n.url,null,n.options):new f(n,null)}}static \u0275fac=function(e){return new(e||o)(a(F,8),a(st),a(D,8),a(C))};static \u0275prov=p({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function A(o){return o.cloneNode(!0)}function pt(o,i){return o+":"+i}function At(o){return!!(o.url&&o.options)}var Nt=["*"],kt=new M("MAT_ICON_DEFAULT_OPTIONS"),xt=new M("mat-icon-location",{providedIn:"root",factory:Mt});function Mt(){let o=d(D),i=o?o.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}var gt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ot=gt.map(o=>`[${o}]`).join(", "),Lt=/^url\(['"]?#(.*?)['"]?\)$/,ve=(()=>{class o{_elementRef=d(J);_iconRegistry=d(dt);_location=d(xt);_errorHandler=d(C);_defaultColor;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(t){let e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(t){let e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=w.EMPTY;constructor(){let t=d(new Z("aria-hidden"),{optional:!0}),e=d(kt,{optional:!0});e&&(e.color&&(this.color=this._defaultColor=e.color),e.fontSet&&(this.fontSet=e.fontSet)),t||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let e=this._location.getPathname();this._previousPath=e,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(e),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){let r=t.childNodes[e];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,e=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),e.forEach(r=>t.classList.add(r)),this._previousFontSetClass=e,this.fontIcon!==this._previousFontIconClass&&!e.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let e=this._elementsWithExternalReferences;e&&e.forEach((r,n)=>{r.forEach(s=>{n.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){let e=t.querySelectorAll(Ot),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let n=0;n<e.length;n++)gt.forEach(s=>{let c=e[n],_=c.getAttribute(s),I=_?_.match(Lt):null;if(I){let E=r.get(c);E||(E=[],r.set(c,E)),E.push({name:s,value:I[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[e,r]=this._splitIconName(t);e&&(this._svgNamespace=e),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,e).pipe(h(1)).subscribe(n=>this._setSvgElement(n),n=>{let s=`Error retrieving icon ${e}:${r}! ${n.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=Q({type:o,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(e,r){e&2&&(tt("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),rt(r.color?"mat-"+r.color:""),et("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",it],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){e&1&&(ot(),nt(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return o})(),_e=(()=>{class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=X({type:o});static \u0275inj=q({imports:[O,O]})}return o})();var Pt=G;function jt(o){return!!o[Pt]}var Ht=Symbol("__destroy"),St=Symbol("__decoratorApplied");function yt(o){return typeof o=="string"?Symbol(`__destroy__${o}`):Ht}function Wt(o){o.prototype[St]=!0}function Ct(o,i){o[i]||(o[i]=new k)}function bt(o,i){o[i]&&(o[i].next(),o[i].complete(),o[i]=null)}function Et(o){o instanceof w&&o.unsubscribe()}function Ut(o){Array.isArray(o)&&o.forEach(Et)}function wt(o,i){return function(){if(o&&o.call(this),bt(this,yt()),i.arrayName&&Ut(this[i.arrayName]),i.checkProperties)for(let t in this)i.blackList?.includes(t)||Et(this[t])}}function $t(o,i){o.prototype.ngOnDestroy=wt(o.prototype.ngOnDestroy,i)}function Bt(o,i){let t=o.\u0275pipe;t.onDestroy=wt(t.onDestroy,i)}function be(o={}){return i=>{jt(i)?Bt(i,o):$t(i,o),Wt(i)}}var vt=7,_t=Symbol("CheckerHasBeenSet");function zt(o,i){o[_t]||Vt()||(It(()=>H(Promise.resolve()).pipe(x(()=>{let t;try{t=K(o)}catch{t=null}let e=t?.lView;if(e==null)return j;let r=e[vt]||(e[vt]=[]),n=new k;return r.push(function(){It(()=>{n.next(),n.complete()})}),n}),x(()=>Promise.resolve())).subscribe(()=>{(i.observed??i.observers.length>0)&&console.warn(Yt(o))})),o[_t]=!0)}function Vt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]"}function It(o){let i=Y.Zone;return!!i&&typeof i.root?.run=="function"?i.root.run(o):o()}function Yt(o){return`
  The ${o.constructor.name} still has subscriptions that haven't been unsubscribed.
  This may happen if the class extends another class decorated with @UntilDestroy().
  The child class implements its own ngOnDestroy() method but doesn't call super.ngOnDestroy().
  Let's look at the following example:
  @UntilDestroy()
  @Directive()
  export abstract class BaseDirective {}
  @Component({ template: '' })
  export class ConcreteComponent extends BaseDirective implements OnDestroy {
    constructor() {
      super();
      someObservable$.pipe(untilDestroyed(this)).subscribe();
    }
    ngOnDestroy(): void {
      // Some logic here...
    }
  }
  The BaseDirective.ngOnDestroy() will not be called since Angular will call ngOnDestroy()
  on the ConcreteComponent, but not on the BaseDirective.
  One of the solutions is to declare an empty ngOnDestroy method on the BaseDirective:
  @UntilDestroy()
  @Directive()
  export abstract class BaseDirective {
    ngOnDestroy(): void {}
  }
  @Component({ template: '' })
  export class ConcreteComponent extends BaseDirective implements OnDestroy {
    constructor() {
      super();
      someObservable$.pipe(untilDestroyed(this)).subscribe();
    }
    ngOnDestroy(): void {
      // Some logic here...
      super.ngOnDestroy();
    }
  }
  `}var L=!1;function qt(o,i,t){let e=o[i];if(L&&typeof e!="function")throw new Error(`${o.constructor.name} is using untilDestroyed but doesn't implement ${i}`);Ct(o,t),o[i]=function(){e.apply(this,arguments),bt(this,t),o[i]=e}}function Ee(o,i){return t=>{let e=yt(i);typeof i=="string"?qt(o,i,e):(L&&Gt(o),Ct(o,e));let r=o[e];return L&&zt(o,r),t.pipe(V(r))}}function Gt(o){let i=Object.getPrototypeOf(o);if(!(St in i))throw new Error("untilDestroyed operator cannot be used inside directives or components or providers that are not decorated with UntilDestroy decorator")}function P(o,i){let t=i.index>=0?i.index:o.length+i.index;if(o.slice(t,t+i.pattern.length)!==i.pattern)return null;let e=o.length-(o.slice(0,i.index).length+i.pattern.length),r=o.slice(0,i.index)+i.replace;return e>0&&(r=r+o.slice(-1*e)),r}var Tt=(()=>{class o{constructor(t){this.bookService=t,this.currentDictionaryState$=new T(null),this.minimalSearchPattern=2,this.maxNumberOfSearchResults=50,this.morphology={},this.morphologyReplaceRules=[],this.dictionaryIsEmpty=!0,this.morphologyIsEmpty=!0,this.searchTerm="",this.currentTerm="",this.terms=[],this.seeAlsoWords=[],U([this.bookService.getMorphology$(),this.bookService.getDictionaryTerms$(),this.bookService.getMorphologyReplaceRules$()]).pipe(h(1)).subscribe(([e,r,n])=>{e?.morphology?(this.morphology=e.morphology,this.morphologyIsEmpty=!1):(this.morphology={},this.morphologyIsEmpty=!0),n?.morphologyReplaceRules?this.morphologyReplaceRules=n.morphologyReplaceRules:this.morphologyReplaceRules=[],r.length?(this.terms=r,this.dictionaryIsEmpty=!1):this.dictionaryIsEmpty=!0,this.setDictionaryState(null),this.searchTerm&&this.setTerm(this.searchTerm)})}searchTerms(t){if(t.length<this.minimalSearchPattern)return null;let e=new RegExp(t.replaceAll("*",".+"),"iu");return this.terms.filter(r=>e.test(r)).slice(0,this.maxNumberOfSearchResults)}setTerm(t){if(this.searchTerm=t,this.currentTerm=t.trim().toLowerCase(),this.seeAlsoWords=[],this.setDictionaryState(null),this.morphologyReplaceRules.forEach(r=>{let n=P(this.currentTerm,r);n&&this.checkTerm(n)&&this.seeAlsoWords.push(n)}),!this.morphologyIsEmpty){let r=this.morphology[this.currentTerm];r?.o&&this.seeAlsoWords.push(r.o)}let e=this.checkTerm(this.currentTerm);if(e){this.setDictionaryState(e);return}if(!this.morphologyIsEmpty){let r=this.morphology[this.currentTerm];if(r?.o&&(e=this.checkTerm(r.o),e)){this.setDictionaryState(e);return}}for(let r=0;r<this.morphologyReplaceRules.length;r++){let n=P(this.currentTerm,this.morphologyReplaceRules[r]);if(!n)continue;let s=this.checkTerm(n);if(s){this.currentTerm=n,this.setDictionaryState(s);return}}}setDictionaryState(t){if(!t){this.setNullState();return}this.bookService.getDictionaryItem$(t).subscribe(e=>{this.currentDictionaryState$.next({currentDictionaryTerm:e,dictionaryIsEmpty:this.dictionaryIsEmpty,searchTerm:this.searchTerm,seeAlsoWords:this.seeAlsoWords})})}setNullState(){this.seeAlsoWords=[],this.currentDictionaryState$.next({currentDictionaryTerm:null,dictionaryIsEmpty:this.dictionaryIsEmpty,searchTerm:this.searchTerm,seeAlsoWords:this.seeAlsoWords})}checkTerm(t){return this.terms.includes(t)?t:""}static{this.\u0275fac=function(e){return new(e||o)(a(at))}}static{this.\u0275prov=p({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var xe=(()=>{class o{constructor(t,e){this.dbService=t,this.dictionaryService=e,this.check$=new T(null),this.dictionaryService.currentDictionaryState$.pipe(S(r=>this.getWordFromDB(r?.currentDictionaryTerm?.term||""))).subscribe(r=>{this.check$.next(r)})}importWords(t){return this.dbService.bulkAdd(v.FavoriteWords,t.map(e=>({term:e,v:1})))}getAll(){return this.dbService.getAll(v.FavoriteWords).pipe(l(t=>t.map(e=>e.term)),h(1))}switchCurrent(){let t=this.check$.value,e=t?.term,r=t?.status;e&&(r?this.remove(e):this.add(e),this.check$.next({term:e,status:!r}))}add(t){this.dbService.add(v.FavoriteWords,{term:t,v:"1"}).pipe(h(1)).subscribe()}remove(t){this.dbService.delete(v.FavoriteWords,t).pipe(h(1)).subscribe()}deleteAll(){this.dbService.clear(v.FavoriteWords).pipe(h(1)).subscribe()}getWordFromDB(t){return t?this.dbService.getByID(v.FavoriteWords,t).pipe(l(e=>({term:t,status:!!e}))):m({term:"",status:!1})}static{this.\u0275fac=function(e){return new(e||o)(a(ct),a(Tt))}}static{this.\u0275prov=p({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var je=(()=>{class o{constructor(t,e,r){this.http=t,this.localStorageService=e,this.info=r,this.ankiHost=this.localStorageService.ankiHost}markCards(t){this.http.post(this.ankiHost,{action:"forgetCards",version:6,params:{cards:t}}).pipe(g(e=>{throw this.info.error("There is error with anki-connection"),e}),S(()=>this.http.post(this.ankiHost,{action:"answerCards",version:6,params:{answers:t.map(e=>({cardId:e,ease:1}))}})),u(()=>this.info.show(t.length+" items are selected")),h(1)).subscribe()}addTagForNotes(t,e){this.http.post(this.ankiHost,{action:"addTags",version:6,params:{notes:t,tags:e}}).pipe(g(r=>{throw this.info.error("There is error with anki-connection"),r}),u(()=>this.info.show("Tag is added to "+t.length+" items")),h(1)).subscribe()}findCards(t){return this.http.post(this.ankiHost,{action:"findCards",version:6,params:{query:t}}).pipe(g(e=>{throw this.info.error("There is error with anki-connection"),e}),u(e=>{e?.error&&this.info.error("Anki findCards error")}),S(e=>this.http.post(this.ankiHost,{action:"cardsInfo",version:6,params:{cards:e.result}}).pipe(u(r=>{r?.error&&this.info.error("Anki findCards error")}),l(r=>r.result))))}findNotes(t){return this.http.post(this.ankiHost,{action:"findNotes",version:6,params:{query:t}}).pipe(g(e=>{throw this.info.error("There is error with anki-connection"),e}),u(e=>{e?.error&&this.info.error("Anki findNotes error")}),S(e=>this.http.post(this.ankiHost,{action:"notesInfo",version:6,params:{notes:e.result}}).pipe(u(r=>{r?.error&&this.info.error("Anki findCards error")}),l(r=>r.result))))}static{this.\u0275fac=function(e){return new(e||o)(a(F),a(ht),a(lt))}}static{this.\u0275prov=p({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();export{ve as a,_e as b,be as c,Ee as d,Tt as e,xe as f,je as g};
