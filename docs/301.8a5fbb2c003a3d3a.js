"use strict";(self.webpackChunkforeign_reader=self.webpackChunkforeign_reader||[]).push([[301],{9301:(F,d,a)=>{a.r(d),a.d(d,{FavoriteExamplesComponent:()=>m});var l,u=a(7582),p=a(6814),g=a(2296),v=a(2058),C=a(5986),f=a(6223),_=a(1791),x=a(2596),T=a(4010),y=a(8299),t=a(5879),M=a(3631),h=a(8805);const O=["componentContent"];function E(o,n){if(1&o&&(t.TgZ(0,"span",23),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.level)}}function P(o,n){if(1&o&&(t.TgZ(0,"div",32),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.transcription," ")}}function D(o,n){if(1&o&&(t.TgZ(0,"div",33),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" Synonym: ",e.synonym," ")}}function b(o,n){if(1&o&&(t.TgZ(0,"div",34),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" Antonym: ",e.antonym," ")}}function Z(o,n){if(1&o&&(t.TgZ(0,"div",35),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.translation," ")}}function k(o,n){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij("U: ",t.xi3(2,1,e.updateTimestamp,"dd.MM.yyyy"),";")}}function w(o,n){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij("ToDo: ",t.xi3(2,1,e.toDoTimestamp,"dd.MM.yyyy"),"")}}function A(o,n){if(1&o&&(t.TgZ(0,"div",24),t.YNc(1,P,2,1,"div",25),t.TgZ(2,"div",26),t._uU(3),t.qZA(),t.YNc(4,D,2,1,"div",27),t.YNc(5,b,2,1,"div",28),t.YNc(6,Z,2,1,"div",29),t.TgZ(7,"div",30)(8,"span"),t._uU(9),t.ALo(10,"date"),t.qZA(),t.YNc(11,k,3,4,"span",31),t.YNc(12,w,3,4,"span",31),t.qZA()()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.transcription),t.xp6(2),t.hij(" ",e.definition," "),t.xp6(1),t.Q6J("ngIf",e.synonym),t.xp6(1),t.Q6J("ngIf",e.antonym),t.xp6(1),t.Q6J("ngIf",e.translation),t.xp6(3),t.hij(" C: ",t.xi3(10,8,e.timestamp,"dd.MM.yyyy"),"; "),t.xp6(2),t.Q6J("ngIf",e.updateTimestamp),t.xp6(1),t.Q6J("ngIf",e.toDoTimestamp)}}function U(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",9)(2,"div",10)(3,"span",11),t._uU(4),t.qZA(),t.TgZ(5,"button",12),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.favoriteExamplesService.removeExample(s.timestamp||0))}),t._uU(6," Del "),t.qZA(),t.TgZ(7,"button",13),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.setToDo(s,1))}),t._uU(8," 1 "),t.qZA(),t.TgZ(9,"button",14),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.setToDo(s,3))}),t._uU(10," 3 "),t.qZA(),t.TgZ(11,"button",15),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.setToDo(s,7))}),t._uU(12," 7 "),t.qZA(),t.TgZ(13,"button",16),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.setToDo(s,30))}),t._uU(14," 30 "),t.qZA(),t.TgZ(15,"span",17),t._uU(16),t.qZA(),t.TgZ(17,"span",18),t._uU(18),t.qZA()(),t.TgZ(19,"div",19),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.KtG(s.showDetails=!0)}),t.YNc(20,E,2,1,"span",20),t.TgZ(21,"span",21),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.clickOnWord())}),t._uU(22),t.qZA()(),t.YNc(23,A,13,11,"div",22),t.qZA(),t.BQk()}if(2&o){const e=n.$implicit,i=t.oxw();t.xp6(1),t.ekj("old",i.dayFromUpdate(e)>25)("recent",i.dayFromUpdate(e)<3),t.xp6(2),t.Q6J("matTooltip","dayFromCreate/Update"),t.xp6(1),t.AsE(" [ ",i.dayFromCreate(e)," : ",i.dayFromUpdate(e),"] "),t.xp6(12),t.Oqu(e.partOfSpeech||""),t.xp6(2),t.Oqu(e.term||""),t.xp6(2),t.Q6J("ngIf",e.level),t.xp6(2),t.hij(" ",e.original," "),t.xp6(1),t.Q6J("ngIf",e.showDetails)}}let m=((l=class{constructor(n,e,i){this.favoriteExamplesService=n,this.cd=e,this.customStylesService=i,this.dayTime=864e5,this.examples=[],this.allExamplesNumber=0,this.todoExampleNumber=0,this.currentTerm=""}ngOnInit(){this.favoriteExamplesService.examples$.pipe((0,_.t)(this)).subscribe(n=>{this.allExamplesNumber=n?.length||0,this.takeCurrentExamples(n)})}ngAfterViewInit(){this.subscribeToCustomStylesService(),this.subscribeToKeyBord()}clickOnWord(){this.currentTerm=(0,y.R)()}subscribeToCustomStylesService(){this.customStylesService.customStyles$.pipe((0,_.t)(this)).subscribe(n=>{n.forEach(e=>{this.componentContent.nativeElement.style.setProperty(e.cssVariable,e.value)}),this.cd.detectChanges()})}subscribeToKeyBord(){document.onkeydown=n=>{const e=n?.key,i=this.examples[0];switch(e){case"d":this.favoriteExamplesService.removeExample(i.timestamp||0);break;case" ":i.showDetails=!i.showDetails,this.cd.detectChanges();break;case"w":this.setToDo(i,7);break;case"q":this.setToDo(i,30);break;case"s":this.setToDo(i,3);break;case"a":this.setToDo(i,1)}}}trackBy(n,e){return e.timestamp}setToDo(n,e){n.toDoTimestamp=Date.now()+e*this.dayTime,this.favoriteExamplesService.update(n)}dayFromUpdate(n){return n.timestamp?Math.round((Date.now()-(n.updateTimestamp||n.timestamp))/this.dayTime):0}dayFromCreate(n){return n.timestamp?Math.round((Date.now()-n.timestamp)/this.dayTime):0}exampleIsToDo(n){return!n.toDoTimestamp||n.toDoTimestamp<Date.now()+432e5}takeCurrentExamples(n){const e=n.filter(i=>this.exampleIsToDo(i));this.todoExampleNumber=e.length,this.examples=e.sort((i,r)=>this.dayFromUpdate(r)-this.dayFromUpdate(i)).slice(0,20)}}).\u0275fac=function(n){return new(n||l)(t.Y36(M.j),t.Y36(t.sBO),t.Y36(h.N))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-favorite-examples"]],viewQuery:function(n,e){if(1&n&&t.Gf(O,5),2&n){let i;t.iGM(i=t.CRH())&&(e.componentContent=i.first)}},standalone:!0,features:[t.jDz],decls:11,vars:5,consts:[[1,"component-content",3,"keydown.space","keyup.space"],["componentContent",""],[1,"list"],[1,"header"],["mat-button","","color","primary","routerLink","/"],[1,"example-number"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"dictionary"],[3,"term"],[1,"example"],[1,"example-header"],[1,"day-from-update",3,"matTooltip"],["mat-button","","color","warn","matTooltip","d",3,"click"],["mat-button","","color","primary","matTooltip","a",3,"click"],["mat-button","","color","primary","matTooltip","s",3,"click"],["mat-button","","color","primary","matTooltip","w",3,"click"],["mat-button","","color","primary","matTooltip","q",3,"click"],[1,"pos"],[1,"term"],[1,"original",3,"click"],["class","level",4,"ngIf"],[1,"example-text",3,"click"],["class","description",4,"ngIf"],[1,"level"],[1,"description"],["class","transcription",4,"ngIf"],[1,"definition"],["class","synonym",4,"ngIf"],["class","antonym",4,"ngIf"],["class","translation",4,"ngIf"],[1,"dates"],[4,"ngIf"],[1,"transcription"],[1,"synonym"],[1,"antonym"],[1,"translation"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0,1),t.NdJ("keydown.space",function(r){return r.preventDefault(),r.stopPropagation()})("keyup.space",function(r){return r.preventDefault(),r.stopPropagation()}),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t._uU(5,"Go Home"),t.qZA(),t.TgZ(6,"span",5),t._uU(7),t.qZA()(),t.YNc(8,U,24,12,"ng-container",6),t.qZA(),t.TgZ(9,"div",7),t._UZ(10,"app-dictionary-widget",8),t.qZA()()),2&n&&(t.xp6(7),t.AsE(" ",e.todoExampleNumber," / ",e.allExamplesNumber," "),t.xp6(1),t.Q6J("ngForOf",e.examples)("ngForTrackBy",e.trackBy),t.xp6(2),t.Q6J("term",e.currentTerm))},dependencies:[p.ez,p.sg,p.O5,p.uU,g.ot,g.lW,v.rH,C.p9,f.u5,x.AV,x.gM,T.V],styles:[".component-content[_ngcontent-%COMP%]{display:flex;gap:var(--padding-small);justify-content:end;padding:0;width:100vw;max-width:100vw;height:calc(100vh - 4px);max-height:calc(100vh - 4px);overflow:auto;box-sizing:border-box;background:var(--background-color-main);background-image:var(--book-background-image);background-repeat:repeat;font-family:var(--font-family);color:var(--font-color-main)}.list[_ngcontent-%COMP%]{padding:var(--padding-main);max-width:var(--max-book-width);width:var(--max-book-width);max-height:calc(100vh - 10px);overflow:hidden;box-sizing:border-box}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]{padding:var(--padding-small);outline:1px solid gray;margin:var(--padding-small)}.list[_ngcontent-%COMP%]   .example.old[_ngcontent-%COMP%]{outline:1px solid red}.list[_ngcontent-%COMP%]   .example.recent[_ngcontent-%COMP%]{outline:1px solid green}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .example-header[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;gap:var(--padding-main)}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .example-header[_ngcontent-%COMP%]   .pos[_ngcontent-%COMP%]{color:var(--font-color-translation)}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .example-header[_ngcontent-%COMP%]   .term[_ngcontent-%COMP%]{font-weight:700}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .original[_ngcontent-%COMP%]{cursor:pointer;margin-top:var(--padding-small);font-size:var(--font-size-original-text)}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .original[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{color:green;font-weight:700;background-color:wheat;padding:2px}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:var(--font-size-translation-text);padding-left:var(--padding-main)}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:var(--padding-small) 0}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%], .list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .synonym[_ngcontent-%COMP%]{color:var(--font-color-translation)}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .antonym[_ngcontent-%COMP%]{color:red}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .dates[_ngcontent-%COMP%]{display:flex;gap:var(--padding-small);font-size:12px}.dictionary[_ngcontent-%COMP%]{overflow:auto;width:var(--dictionary-width)}@media (max-width: 1000px){.dictionary[_ngcontent-%COMP%]{display:none}}"]}),l);m=(0,u.gn)([(0,_.c)()],m)}}]);