"use strict";(self.webpackChunkforeign_reader=self.webpackChunkforeign_reader||[]).push([[937],{6878:(V,U,s)=>{s.d(U,{E:()=>h});var i=s(5619),t=s(2572),w=s(8180);function I(T,m){const v=m.index>=0?m.index:T.length+m.index;if(T.slice(v,v+m.pattern.length)!==m.pattern)return null;const a=T.length-(T.slice(0,m.index).length+m.pattern.length);let C=T.slice(0,m.index)+m.replace;return a>0&&(C+=T.slice(-1*a)),C}var y=s(5879),x=s(463);let h=(()=>{class T{constructor(v){this.bookService=v,this.currentDictionaryState$=new i.X(null),this.minimalSearchPattern=2,this.maxNumberOfSearchResults=50,this.morphology={},this.morphologyReplaceRules=[],this.dictionaryIsEmpty=!0,this.morphologyIsEmpty=!0,this.searchTerm="",this.currentTerm="",this.terms=[],this.seeAlsoWords=[],(0,t.a)([this.bookService.getMorphology$(),this.bookService.getDictionaryTerms$(),this.bookService.getMorphologyReplaceRules$()]).pipe((0,w.q)(1)).subscribe(([a,C,P])=>{a?.morphology?(this.morphology=a.morphology,this.morphologyIsEmpty=!1):(this.morphology={},this.morphologyIsEmpty=!0),this.morphologyReplaceRules=P?.morphologyReplaceRules?P.morphologyReplaceRules:[],C.length?(this.terms=C,this.dictionaryIsEmpty=!1):this.dictionaryIsEmpty=!0,this.setDictionaryState(null),this.searchTerm&&this.setTerm(this.searchTerm)})}searchTerms(v){if(v.length<this.minimalSearchPattern)return null;const a=new RegExp(v.replaceAll("*",".+"),"iu");return this.terms.filter(C=>a.test(C)).slice(0,this.maxNumberOfSearchResults)}setTerm(v){if(this.searchTerm=v,this.currentTerm=v.trim().toLowerCase(),this.seeAlsoWords=[],this.setDictionaryState(null),this.morphologyReplaceRules.forEach(C=>{const P=I(this.currentTerm,C);P&&this.checkTerm(P)&&this.seeAlsoWords.push(P)}),!this.morphologyIsEmpty){const C=this.morphology[this.currentTerm];C?.o&&this.seeAlsoWords.push(C.o)}let a=this.checkTerm(this.currentTerm);if(a)this.setDictionaryState(a);else{if(!this.morphologyIsEmpty){const C=this.morphology[this.currentTerm];if(C?.o&&(a=this.checkTerm(C.o),a))return void this.setDictionaryState(a)}for(let C=0;C<this.morphologyReplaceRules.length;C++){const P=I(this.currentTerm,this.morphologyReplaceRules[C]);if(!P)continue;const k=this.checkTerm(P);if(k)return this.currentTerm=P,void this.setDictionaryState(k)}}}setDictionaryState(v){v?this.bookService.getDictionaryItem$(v).subscribe(a=>{this.currentDictionaryState$.next({currentDictionaryTerm:a,dictionaryIsEmpty:this.dictionaryIsEmpty,searchTerm:this.searchTerm,seeAlsoWords:this.seeAlsoWords})}):this.setNullState()}setNullState(){this.seeAlsoWords=[],this.currentDictionaryState$.next({currentDictionaryTerm:null,dictionaryIsEmpty:this.dictionaryIsEmpty,searchTerm:this.searchTerm,seeAlsoWords:this.seeAlsoWords})}checkTerm(v){return this.terms.includes(v)?v:""}}return T.\u0275fac=function(v){return new(v||T)(y.LFG(x.Z))},T.\u0275prov=y.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},8304:(V,U,s)=>{s.d(U,{Z:()=>z});var b,i=s(7582),t=s(5879),w=s(6814),I=s(1791),y=s(2296),x=s(617),h=s(6223),T=s(4630),m=s(9157),v=s(2032),a=s(3680),C=s(8299),P=s(6878),k=s(5709);const F=["topMarker"];function G(d,_){if(1&d){const r=t.EpF();t.TgZ(0,"mat-option",13),t.NdJ("keyup.enter",function(){const S=t.CHM(r).$implicit,e=t.oxw();return t.KtG(e.selectTermOption(S))})("click",function(){const S=t.CHM(r).$implicit,e=t.oxw();return t.KtG(e.selectTermOption(S))}),t._uU(1),t.qZA()}if(2&d){const r=_.$implicit;t.Q6J("value",r),t.xp6(1),t.hij(" ",r," ")}}function H(d,_){1&d&&(t.TgZ(0,"div",14),t._uU(1," dictionaryIsEmpty\n"),t.qZA())}function j(d,_){if(1&d){const r=t.EpF();t.TgZ(0,"div",17),t.NdJ("click",function(){const S=t.CHM(r).$implicit,e=t.oxw(2);return t.KtG(e.selectPartOfSpeech(S))}),t._uU(1),t.qZA()}if(2&d){const r=_.$implicit,M=t.oxw(2);t.ekj("selected",M.selectedPartsOfSpeech.includes(r)),t.xp6(1),t.hij(" ",r," ")}}function B(d,_){if(1&d&&(t.TgZ(0,"div",15),t.YNc(1,j,2,3,"div",16),t.qZA()),2&d){const r=t.oxw();t.xp6(1),t.Q6J("ngForOf",r.partsOfSpeech)}}function L(d,_){1&d&&(t.TgZ(0,"span"),t._uU(1," => "),t.qZA())}function E(d,_){if(1&d&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,L,2,0,"span",10),t.qZA()),2&d){const r=t.oxw();t.xp6(1),t.hij("",r.searchTerm," "),t.xp6(1),t.Q6J("ngIf",null==r.dictionaryTerm?null:r.dictionaryTerm.term)}}function W(d,_){if(1&d&&(t.TgZ(0,"span",24),t._uU(1),t.qZA()),2&d){const r=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",r.transcription," ")}}function N(d,_){if(1&d&&(t.TgZ(0,"span",25),t._uU(1),t.qZA()),2&d){const r=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",r.dictionaryName," ")}}function K(d,_){if(1&d&&(t.TgZ(0,"div",34),t._uU(1),t.qZA()),2&d){const r=t.oxw().$implicit;t.xp6(1),t.hij(" ",r.lexicalUnit," ")}}function $(d,_){if(1&d&&(t.TgZ(0,"span",35),t._uU(1),t.qZA()),2&d){const r=t.oxw().$implicit;t.xp6(1),t.Oqu(r.level)}}function q(d,_){if(1&d&&(t.TgZ(0,"div",36),t._uU(1),t.qZA()),2&d){const r=t.oxw().$implicit;t.xp6(1),t.hij(" Synonym: ",r.synonym," ")}}function ot(d,_){if(1&d&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&d){const r=t.oxw().$implicit;t.xp6(1),t.hij(" Antonym: ",r.antonym," ")}}function J(d,_){if(1&d){const r=t.EpF();t.TgZ(0,"div",41)(1,"div",42),t.NdJ("dblclick",function(){t.CHM(r);const p=t.oxw(5);return t.KtG(p.clickOnWord())}),t.TgZ(2,"button",43),t.NdJ("click",function(p){const e=t.CHM(r).$implicit,o=t.oxw(2).$implicit,c=t.oxw(2).$implicit;return t.oxw().addExample(e,o,c),t.KtG(p.stopPropagation())}),t._UZ(3,"mat-icon",44),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA()(),t.TgZ(6,"div",45),t._uU(7),t.qZA()()}if(2&d){const r=_.$implicit;t.xp6(5),t.hij(" ",r.original," "),t.xp6(2),t.Oqu(r.translation)}}function Q(d,_){if(1&d&&(t.TgZ(0,"div",38)(1,"div",39),t.YNc(2,J,8,2,"div",40),t.qZA()()),2&d){const r=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",r.examples)}}function tt(d,_){if(1&d){const r=t.EpF();t.TgZ(0,"div",26),t.YNc(1,K,2,1,"div",27),t.TgZ(2,"div",28),t.NdJ("click",function(){const S=t.CHM(r).$implicit;return t.KtG(S.showDetails=!S.showDetails)}),t.TgZ(3,"span",29),t.NdJ("dblclick",function(){t.CHM(r);const p=t.oxw(3);return t.KtG(p.clickOnWord())}),t.YNc(4,$,2,1,"span",30),t._uU(5),t.qZA()(),t.YNc(6,q,2,1,"div",31),t.YNc(7,ot,2,1,"div",32),t.YNc(8,Q,3,1,"div",33),t.qZA()}if(2&d){const r=_.$implicit;t.xp6(1),t.Q6J("ngIf",r.lexicalUnit),t.xp6(1),t.ekj("has-examples",r.examples),t.xp6(2),t.Q6J("ngIf",r.level),t.xp6(1),t.hij(" ",r.definition," "),t.xp6(1),t.Q6J("ngIf",r.synonym),t.xp6(1),t.Q6J("ngIf",r.antonym),t.xp6(1),t.Q6J("ngIf",r.showDetails)}}function et(d,_){if(1&d){const r=t.EpF();t.ynx(0),t.TgZ(1,"div",19),t.YNc(2,W,2,1,"span",20),t.TgZ(3,"span",17),t.NdJ("click",function(){t.CHM(r);const p=t.oxw().$implicit,S=t.oxw();return t.KtG(S.selectPartOfSpeech(p.partOfSpeech))}),t._uU(4),t.qZA(),t.YNc(5,N,2,1,"span",21),t.qZA(),t.TgZ(6,"div",22),t.YNc(7,tt,9,8,"div",23),t.qZA(),t.BQk()}if(2&d){const r=t.oxw().$implicit,M=t.oxw();t.xp6(2),t.Q6J("ngIf",r.transcription),t.xp6(1),t.ekj("selected",M.selectedPartsOfSpeech.includes(r.partOfSpeech)),t.xp6(1),t.hij(" ",r.partOfSpeech," "),t.xp6(1),t.Q6J("ngIf",r.dictionaryName),t.xp6(2),t.Q6J("ngForOf",r.definitions)}}function nt(d,_){if(1&d&&(t.TgZ(0,"div",18),t.YNc(1,et,8,6,"ng-container",10),t.qZA()),2&d){const r=_.$implicit,M=t.oxw();t.xp6(1),t.Q6J("ngIf",!M.selectedPartsOfSpeech.length||M.selectedPartsOfSpeech.includes(r.partOfSpeech))}}function it(d,_){if(1&d){const r=t.EpF();t.TgZ(0,"div",49),t.NdJ("dblclick",function(){t.CHM(r);const p=t.oxw(2);return t.KtG(p.clickOnWord())}),t._uU(1),t.qZA()}if(2&d){const r=_.$implicit;t.xp6(1),t.hij(" ",r," ")}}function X(d,_){if(1&d&&(t.TgZ(0,"div",46)(1,"div",47),t._uU(2,"See also:"),t.qZA(),t.YNc(3,it,2,1,"div",48),t.qZA()),2&d){const r=t.oxw();t.xp6(3),t.Q6J("ngForOf",r.words)}}let z=((b=class{set term(_){this.dictionaryService.setTerm(_),this.searchControl.setValue(_,{emitEvent:!1})}constructor(_,r,M){this.cdr=_,this.dictionaryService=r,this.favoriteExamplesService=M,this.newTermIsSet=new t.vpe,this.searchTerm="",this.dictionaryIsEmpty=!1,this.dictionaryTerm=null,this.partsOfSpeech=[],this.selectedPartsOfSpeech=[],this.words=[],this.termOptions=[],this.searchControl=new h.NI("")}selectPartOfSpeech(_){this.selectedPartsOfSpeech.includes(_)?this.selectedPartsOfSpeech=this.selectedPartsOfSpeech.filter(r=>r!==_):this.selectedPartsOfSpeech.push(_)}ngOnInit(){this.dictionaryService.currentDictionaryState$.pipe((0,I.t)(this)).subscribe(_=>{this.searchTerm=_?.searchTerm||"",this.dictionaryTerm=_?.currentDictionaryTerm||null,this.dictionaryIsEmpty=!!_?.dictionaryIsEmpty,this.words=_?.seeAlsoWords||[],this.dictionaryTerm?.term&&(this.words=this.words.filter(r=>r!==this.dictionaryTerm?.term)),this.setTerm(this.dictionaryTerm)}),this.initSearchControl()}initSearchControl(){this.searchControl.valueChanges.subscribe(_=>{!_||_.length<this.dictionaryService.minimalSearchPattern?this.termOptions=[]:(this.termOptions=this.dictionaryService.searchTerms(_)||[],1===this.termOptions.length&&this.selectTermOption(this.termOptions[0]))})}paste(){navigator.clipboard.readText().then(_=>this.selectTermOption(_?.trim()||""),_=>console.error(_))}selectTermOption(_){this.dictionaryService.setTerm(_||""),this.termOptions=[],this.newTermIsSet.emit(_||"")}clickOnWord(){const _=(0,C.R)();this.searchControl.setValue(_,{emitEvent:!1}),this.dictionaryService.setTerm(_),this.newTermIsSet.emit(_)}addExample(_,r,M){this.favoriteExamplesService.addExample({definition:r.definition,original:_.original,translation:_.translation||"",synonym:r.synonym||"",antonym:r.antonym||"",partOfSpeech:M.partOfSpeech,term:this.dictionaryTerm?.term||"",transcription:M.transcription||""})}setTerm(_){if(this.selectedPartsOfSpeech=[],this.dictionaryTerm=_,!_)return this.partsOfSpeech=[],void this.cdr.detectChanges();const r=_.articles.map(M=>M.partOfSpeech?.toLowerCase()?.trim()||"").filter(M=>!!M);this.partsOfSpeech=[...new Set(r)],this.topMarker?.nativeElement?.scrollIntoView(),this.cdr.detectChanges()}}).\u0275fac=function(_){return new(_||b)(t.Y36(t.sBO),t.Y36(P.E),t.Y36(k.j))},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-dictionary"]],viewQuery:function(_,r){if(1&_&&t.Gf(F,5),2&_){let M;t.iGM(M=t.CRH())&&(r.topMarker=M.first)}},inputs:{term:"term"},outputs:{newTermIsSet:"newTermIsSet"},standalone:!0,features:[t.jDz],decls:17,vars:9,consts:[[1,"top-marker"],["topMarker",""],[1,"search-bar"],[1,"form-field"],["type","text","placeholder","Term","autocomplete","false","matInput","",3,"formControl","matAutocomplete","keyup.enter","keyup","keydown","paste"],["auto","matAutocomplete"],[3,"value","keyup.enter","click",4,"ngFor","ngForOf"],["class","empty-dictionary",4,"ngIf"],["class","parts-of-speech",4,"ngIf"],[1,"header"],[4,"ngIf"],["class","article",4,"ngFor","ngForOf"],["class","words",4,"ngIf"],[3,"value","keyup.enter","click"],[1,"empty-dictionary"],[1,"parts-of-speech"],["class","part-of-speech",3,"selected","click",4,"ngFor","ngForOf"],[1,"part-of-speech",3,"click"],[1,"article"],[1,"article-header"],["class","transcription",4,"ngIf"],["class","dictionary",4,"ngIf"],[1,"definitions"],["class","definition",4,"ngFor","ngForOf"],[1,"transcription"],[1,"dictionary"],[1,"definition"],["class","lex-unit",4,"ngIf"],[1,"definition",3,"click"],[3,"dblclick"],["class","level",4,"ngIf"],["class","synonym",4,"ngIf"],["class","antonym",4,"ngIf"],["class","details",4,"ngIf"],[1,"lex-unit"],[1,"level"],[1,"synonym"],[1,"antonym"],[1,"details"],[1,"examples"],["class","example",4,"ngFor","ngForOf"],[1,"example"],[1,"original",3,"dblclick"],["mat-icon-button","","color","primary",3,"click"],["fontIcon","add",1,"icon"],[1,"translation"],[1,"words"],[1,"title"],["class","word",3,"dblclick",4,"ngFor","ngForOf"],[1,"word",3,"dblclick"]],template:function(_,r){if(1&_&&(t._UZ(0,"div",0,1),t.TgZ(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),t._uU(5,"Term"),t.qZA(),t.TgZ(6,"input",4),t.NdJ("keyup.enter",function(){return r.selectTermOption(r.searchControl.value)})("keyup",function(p){return p.stopPropagation()})("keydown",function(p){return p.stopPropagation()})("paste",function(){return r.paste()}),t.qZA(),t.TgZ(7,"mat-autocomplete",null,5),t.YNc(9,G,2,2,"mat-option",6),t.qZA()()(),t.YNc(10,H,2,0,"div",7),t.YNc(11,B,2,1,"div",8),t.TgZ(12,"div",9),t.YNc(13,E,3,2,"span",10),t._uU(14),t.qZA(),t.YNc(15,nt,2,1,"div",11),t.YNc(16,X,4,1,"div",12)),2&_){const M=t.MAs(8);let p;t.xp6(6),t.Q6J("formControl",r.searchControl)("matAutocomplete",M),t.xp6(3),t.Q6J("ngForOf",r.termOptions),t.xp6(1),t.Q6J("ngIf",r.dictionaryIsEmpty),t.xp6(1),t.Q6J("ngIf",(null==r.partsOfSpeech?null:r.partsOfSpeech.length)&&r.partsOfSpeech.length>1),t.xp6(2),t.Q6J("ngIf",r.searchTerm.trim().toLowerCase()!==(null==r.dictionaryTerm||null==r.dictionaryTerm.term||null==(p=r.dictionaryTerm.term.trim())?null:p.toLowerCase())),t.xp6(1),t.hij(" ",null==r.dictionaryTerm?null:r.dictionaryTerm.term,"\n"),t.xp6(1),t.Q6J("ngForOf",null==r.dictionaryTerm?null:r.dictionaryTerm.articles),t.xp6(1),t.Q6J("ngIf",r.words.length)}},dependencies:[w.ez,w.sg,w.O5,y.ot,y.RK,x.Ps,x.Hw,h.u5,h.Fj,h.JJ,T.Bb,T.XC,a.ey,T.ZL,m.lN,m.KE,m.hX,v.c,v.Nt,a.Ng,h.UX,h.oH],styles:["[_nghost-%COMP%]{display:block;padding:var(--padding-main);font-size:var(--dictionary-main-font-size)}.parts-of-speech[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.parts-of-speech[_ngcontent-%COMP%]   .part-of-speech[_ngcontent-%COMP%]{cursor:pointer;margin:4px}.parts-of-speech[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{outline:1px solid green}.header[_ngcontent-%COMP%]{font-size:var(--dictionary-header-font-size);font-weight:700}.has-examples[_ngcontent-%COMP%]{cursor:pointer;font-weight:500}.article[_ngcontent-%COMP%]{margin:16px 0}.article[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]{margin:var(--padding-main) 0;line-height:2}.article[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]   .transcription[_ngcontent-%COMP%]{color:#000;margin:4px;padding:4px;background-color:#f9e79f}.article[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]   .dictionary[_ngcontent-%COMP%]{color:#000;margin:4px;padding:4px;background-color:#94ff7d}.article[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%]{margin:8px 0}.article[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%]   .lex-unit[_ngcontent-%COMP%]{font-weight:700;font-size:1.2em;background-color:wheat;padding:2px}.article[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{color:green;font-weight:700;background-color:wheat;padding:2px}.article[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%]   .synonym[_ngcontent-%COMP%]{color:green;padding-left:var(--padding-small)}.article[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%]   .antonym[_ngcontent-%COMP%]{color:red;padding-left:var(--padding-small)}.article[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{padding-left:var(--padding-small)}.article[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]{padding-left:var(--padding-small);margin:8px 0}.article[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]   .original[_ngcontent-%COMP%]{display:flex;align-items:center}.article[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]   .original[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{cursor:pointer}.article[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]   .translation[_ngcontent-%COMP%]{color:gray;padding-left:var(--padding-large)}.part-of-speech[_ngcontent-%COMP%]{font-weight:700;background-color:wheat;padding:4px;margin:4px 0;cursor:pointer}.words[_ngcontent-%COMP%]{display:flex;gap:8px}.search-bar[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:center;gap:var(--padding-main);width:100%}.form-field[_ngcontent-%COMP%]{width:800px;max-width:90vw}"],changeDetection:0}),b);z=(0,i.gn)([(0,I.c)()],z)},5482:(V,U,s)=>{s.d(U,{r:()=>j});var F,i=s(7582),t=s(1791),w=s(6814),I=s(2296),y=s(617),x=s(6223),h=s(9157),T=s(2032),m=s(2596),v=s(8299),a=s(5879),C=s(3890),P=s(4408),k=s(6878),b=s(5709);function G(B,L){if(1&B&&(a.TgZ(0,"span",9),a._uU(1),a.qZA()),2&B){const E=a.oxw(2);a.xp6(1),a.hij(" [",null==E.current?null:E.current.confidence,"] ")}}function H(B,L){if(1&B){const E=a.EpF();a.TgZ(0,"div",5)(1,"button",0),a.NdJ("click",function(){a.CHM(E);const N=a.oxw();return a.KtG(N.addExample())}),a._uU(2," Make as a favorite example "),a.qZA(),a.TgZ(3,"div",6),a.NdJ("dblclick",function(){a.CHM(E);const N=a.oxw();return a.KtG(N.clickOnWord())}),a._uU(4),a.qZA(),a.TgZ(5,"div",7),a.YNc(6,G,2,1,"span",8),a._uU(7," => "),a.qZA(),a.TgZ(8,"div",5),a._uU(9),a.qZA()()}if(2&B){const E=a.oxw();a.xp6(4),a.hij(" ",null==E.current?null:E.current.original," "),a.xp6(2),a.Q6J("ngIf",null==E.current?null:E.current.confidence),a.xp6(3),a.hij(" ",null==E.current?null:E.current.translation," ")}}let j=((F=class{constructor(L,E,W,N,K){this.translatorService=L,this.activatedRoute=E,this.dictionaryService=W,this.favoriteExamplesService=N,this.cdr=K,this.current=null,this.text=""}ngOnInit(){const L=this.activatedRoute.snapshot.queryParams.translate;L&&(this.text=L,this.translateText()),this.translatorService.current$.pipe((0,t.t)(this)).subscribe(E=>{this.current=E,this.cdr.detectChanges()})}clickOnWord(){const L=(0,v.R)();this.dictionaryService.setTerm(L)}translateText(){this.text&&this.translatorService.getCurrentTranslation(this.text,!0)}addExample(){this.current?.original&&this.favoriteExamplesService.addExample({original:this.current?.original,translation:this.current?.translation||""})}}).\u0275fac=function(L){return new(L||F)(a.Y36(C.Q),a.Y36(P.gz),a.Y36(k.E),a.Y36(b.j),a.Y36(a.sBO))},F.\u0275cmp=a.Xpm({type:F,selectors:[["app-translation-viewer"]],standalone:!0,features:[a.jDz],decls:12,vars:6,consts:[["mat-button","","color","primary",3,"click"],["appearance","outline",1,"textarea-wrapper"],["matInput","",3,"ngModel","keydown.enter","ngModelChange"],["mat-button","","color","primary",3,"disabled","click"],["class","translation",4,"ngIf"],[1,"translation"],[1,"original",3,"dblclick"],[1,"separator"],["class","confidence","matTooltip","confidence",4,"ngIf"],["matTooltip","confidence",1,"confidence"]],template:function(L,E){1&L&&(a.TgZ(0,"div")(1,"button",0),a.NdJ("click",function(){return E.translatorService.switchAutoTranslate()}),a._uU(2),a.ALo(3,"async"),a.qZA()(),a.TgZ(4,"mat-form-field",1)(5,"mat-label"),a._uU(6,"Text"),a.qZA(),a.TgZ(7,"textarea",2),a.NdJ("keydown.enter",function(){return E.translateText()})("ngModelChange",function(N){return E.text=N}),a._uU(8," "),a.qZA()(),a.TgZ(9,"button",3),a.NdJ("click",function(){return E.translateText()}),a._uU(10," Translate\n"),a.qZA(),a.YNc(11,H,10,3,"div",4)),2&L&&(a.xp6(2),a.hij(" AutoTranslate selected: ",a.lcZ(3,4,E.translatorService.autoTranslateSelected$)?"yes":"no"," "),a.xp6(5),a.Q6J("ngModel",E.text),a.xp6(2),a.Q6J("disabled",!E.text),a.xp6(2),a.Q6J("ngIf",null==E.current?null:E.current.original))},dependencies:[w.O5,I.ot,I.lW,w.Ov,y.Ps,x.u5,x.Fj,x.JJ,x.On,h.lN,h.KE,h.hX,T.c,T.Nt,m.AV,m.gM],styles:["[_nghost-%COMP%]{display:block;padding:var(--padding-main);font-size:var(--dictionary-main-font-size)}.separator[_ngcontent-%COMP%]{width:100%;text-align:center}.textarea-wrapper[_ngcontent-%COMP%]{width:100%}.confidence[_ngcontent-%COMP%]{color:gray}"],changeDetection:0}),F);j=(0,i.gn)([(0,t.c)()],j)},2969:(V,U,s)=>{s.d(U,{n:()=>I});var i=function(y){return y.CurrentPopupMenuTab="CurrentPopupMenuTab",y.CopyToClipboard="CopyToClipboard",y.ShowDictionary="ShowDictionary",y.HideMarkedHeaders="HideMarkedHeaders",y.ShowTranslationInBook="ShowTranslationInBook",y.AutoTranslateSelected="AutoTranslateSelected",y.ShowTranslatorInDictionaryViewer="ShowTranslatorInDictionaryViewer",y.TranslationUrl="TranslationUrl",y.TranslationFrom="TranslationFrom",y.TranslationTo="TranslationTo",y}(i||{}),t=s(2439),w=s(5879);let I=(()=>{class y{get hideMarkedHeaders(){return this.getBoolean(i.HideMarkedHeaders,!1)}set hideMarkedHeaders(h){this.setBoolean(i.HideMarkedHeaders,h)}get copyToClipboard(){return this.getBoolean(i.CopyToClipboard,!0)}set copyToClipboard(h){this.setBoolean(i.CopyToClipboard,h)}get showDictionary(){return this.getBoolean(i.ShowDictionary,!1)}set showDictionary(h){this.setBoolean(i.ShowDictionary,h)}get showTranslationInBook(){return this.getBoolean(i.ShowTranslationInBook,!1)}set showTranslationInBook(h){this.setBoolean(i.ShowTranslationInBook,h)}get showTranslatorInDictionaryViewer(){return this.getBoolean(i.ShowTranslatorInDictionaryViewer,!1)}set showTranslatorInDictionaryViewer(h){this.setBoolean(i.ShowTranslatorInDictionaryViewer,h)}get autoTranslateSelected(){return this.getBoolean(i.AutoTranslateSelected,!1)}set autoTranslateSelected(h){this.setBoolean(i.AutoTranslateSelected,h)}get currentPopupMenuTab(){return this.getNumber(i.CurrentPopupMenuTab)}set currentPopupMenuTab(h){this.setNumber(i.CurrentPopupMenuTab,h||0)}get translationUrl(){return this.getString(i.TranslationUrl,t.m_)}set translationUrl(h){this.setString(i.TranslationUrl,h)}get translationFrom(){return this.getString(i.TranslationFrom,t.fT)}set translationFrom(h){this.setString(i.TranslationFrom,h)}get translationTo(){return this.getString(i.TranslationTo,t.Nz)}set translationTo(h){this.setString(i.TranslationTo,h)}constructor(){this.trueString="true",this.falseString="false"}getString(h,T=""){return localStorage.getItem(h)||T}setString(h,T){localStorage.setItem(h,T)}setNumber(h,T){localStorage.setItem(h,String(T||0))}getNumber(h,T=0){const m=localStorage.getItem(h);if(null===m)return T;const v=+m;return Number.isNaN(v)?T:v}setBoolean(h,T){localStorage.setItem(h,T?this.trueString:this.falseString)}getBoolean(h,T=!1){const m=localStorage.getItem(h);return m===this.trueString||m!==this.falseString&&T}}return y.\u0275fac=function(h){return new(h||y)},y.\u0275prov=w.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},2439:(V,U,s)=>{s.d(U,{Nz:()=>w,fT:()=>t,m_:()=>i});const i="http://127.0.0.1:3007/translate",t="en",w="ru"},3890:(V,U,s)=>{s.d(U,{Q:()=>m});var i=s(5619),t=s(8180),w=s(4716),I=s(5879),y=s(9862),x=s(2969),h=s(957),T=s(1839);let m=(()=>{class v{constructor(C,P,k,b){this.http=C,this.localStorageService=P,this.info=k,this.loader=b,this.current$=new i.X(null),this.autoTranslateSelected$=new i.X(this.localStorageService.autoTranslateSelected),this.url=this.localStorageService.translationUrl,this.from=this.localStorageService.translationFrom,this.to=this.localStorageService.translationTo}getTranslation(C){return this.http.post(this.url,{text:C,from:this.from,to:this.to})}switchAutoTranslate(){const C=!this.autoTranslateSelected$.value;this.autoTranslateSelected$.next(C),this.localStorageService.autoTranslateSelected=C}getCurrentTranslation(C,P=!1){if(!C||!P&&!this.autoTranslateSelected$.value)return;const k={text:C,from:this.from,to:this.to};this.loader.topOn(),this.http.post(this.url,k).pipe((0,t.q)(1),(0,w.x)(()=>this.loader.topOff())).subscribe({next:b=>{this.current$.next(b)},error:b=>{console.error(b),this.info.error(b.message||"Some error")}})}}return v.\u0275fac=function(C){return new(C||v)(I.LFG(y.eN),I.LFG(x.n),I.LFG(h.C),I.LFG(T.D))},v.\u0275prov=I.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},8299:(V,U,s)=>{s.d(U,{R:()=>w});const t=["\u2018","\u201c"," ",".",",","!","?",":",";","\t","\n","\r","'","`","\u2019",'"',"\\","/","[","]","(",")","{","}","-","\u2014"];function w(){const I=window.getSelection();if(!I)return"";const y=I.toString().trim();if(y)return y;const x=I.focusOffset,h=I.focusNode?.nodeValue;if(!h)return"";const T=h.split("");let m=function i(I,y,x){let h=y;for(;h--;)if(x(I[h],h,I))return h;return-1}(T,x,a=>t.includes(a));m=-1===m?0:m+1;let v=T.findIndex((a,C)=>t.includes(a)&&C>x);return-1===v&&(v=h.length),h.slice(m,v).trim()}},4630:(V,U,s)=>{s.d(U,{Bb:()=>D,XC:()=>_,ZL:()=>O});var i=s(5879),t=s(3680),w=s(6814),I=s(799),y=s(9594),x=s(4300),h=s(2495),T=s(2831),m=s(6825),v=s(7394),a=s(8645),C=s(4911),P=s(3019),k=s(2096),b=s(2438),F=s(6028),G=s(8484),H=s(6223),j=s(9157),B=s(7921),L=s(4664),E=s(8180),W=s(2181),N=s(7398),K=s(9397),$=s(5177),q=s(9388);const ot=["panel"];function J(f,A){if(1&f&&(i.TgZ(0,"div",0,1),i.Hsn(2),i.qZA()),2&f){const n=A.id,l=i.oxw();i.Q6J("id",l.id)("ngClass",l._classList)("@panelAnimation",l.isOpen?"visible":"hidden"),i.uIk("aria-label",l.ariaLabel||null)("aria-labelledby",l._getPanelAriaLabelledby(n))}}const Q=["*"],tt=(0,m.X$)("panelAnimation",[(0,m.SB)("void, hidden",(0,m.oB)({opacity:0,transform:"scaleY(0.8)"})),(0,m.eR)(":enter, hidden => visible",[(0,m.ru)([(0,m.jt)("0.03s linear",(0,m.oB)({opacity:1})),(0,m.jt)("0.12s cubic-bezier(0, 0, 0.2, 1)",(0,m.oB)({transform:"scaleY(1)"}))])]),(0,m.eR)(":leave, visible => hidden",[(0,m.jt)("0.075s linear",(0,m.oB)({opacity:0}))])]);let et=0;class nt{constructor(A,n){this.source=A,this.option=n}}const it=(0,t.Kr)(class{}),X=new i.OlP("mat-autocomplete-default-options",{providedIn:"root",factory:function z(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1}}});let d=(()=>{class f extends it{get isOpen(){return this._isOpen&&this.showPanel}_setColor(n){this._color=n,this._setThemeClasses(this._classList)}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(n){this._autoActiveFirstOption=(0,h.Ig)(n)}get autoSelectActiveOption(){return this._autoSelectActiveOption}set autoSelectActiveOption(n){this._autoSelectActiveOption=(0,h.Ig)(n)}set classList(n){this._classList=n&&n.length?(0,h.du)(n).reduce((l,g)=>(l[g]=!0,l),{}):{},this._setVisibilityClasses(this._classList),this._setThemeClasses(this._classList),this._elementRef.nativeElement.className=""}constructor(n,l,g,R){super(),this._changeDetectorRef=n,this._elementRef=l,this._defaults=g,this._activeOptionChanges=v.w0.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new i.vpe,this.opened=new i.vpe,this.closed=new i.vpe,this.optionActivated=new i.vpe,this._classList={},this.id="mat-autocomplete-"+et++,this.inertGroups=R?.SAFARI||!1,this._autoActiveFirstOption=!!g.autoActiveFirstOption,this._autoSelectActiveOption=!!g.autoSelectActiveOption}ngAfterContentInit(){this._keyManager=new x.s1(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(n=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[n]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe()}_setScrollTop(n){this.panel&&(this.panel.nativeElement.scrollTop=n)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(n){const l=new nt(this,n);this.optionSelected.emit(l)}_getPanelAriaLabelledby(n){return this.ariaLabel?null:this.ariaLabelledby?(n?n+" ":"")+this.ariaLabelledby:n}_setVisibilityClasses(n){n[this._visibleClass]=this.showPanel,n[this._hiddenClass]=!this.showPanel}_setThemeClasses(n){n["mat-primary"]="primary"===this._color,n["mat-warn"]="warn"===this._color,n["mat-accent"]="accent"===this._color}_skipPredicate(n){return n.disabled}}return f.\u0275fac=function(n){return new(n||f)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(X),i.Y36(T.t4))},f.\u0275dir=i.lG2({type:f,viewQuery:function(n,l){if(1&n&&(i.Gf(i.Rgc,7),i.Gf(ot,5)),2&n){let g;i.iGM(g=i.CRH())&&(l.template=g.first),i.iGM(g=i.CRH())&&(l.panel=g.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",autoSelectActiveOption:"autoSelectActiveOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[i.qOj]}),f})(),_=(()=>{class f extends d{constructor(){super(...arguments),this._visibleClass="mat-mdc-autocomplete-visible",this._hiddenClass="mat-mdc-autocomplete-hidden",this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(n){this._hideSingleSelectionIndicator=(0,h.Ig)(n),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const n of this.options)n._changeDetectorRef.markForCheck()}_skipPredicate(n){return!1}}return f.\u0275fac=function(){let A;return function(l){return(A||(A=i.n5z(f)))(l||f)}}(),f.\u0275cmp=i.Xpm({type:f,selectors:[["mat-autocomplete"]],contentQueries:function(n,l,g){if(1&n&&(i.Suo(g,t.K7,5),i.Suo(g,t.ey,5)),2&n){let R;i.iGM(R=i.CRH())&&(l.optionGroups=R),i.iGM(R=i.CRH())&&(l.options=R)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-autocomplete"],inputs:{disableRipple:"disableRipple",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matAutocomplete"],features:[i._Bn([{provide:t.HF,useExisting:f}]),i.qOj],ngContentSelectors:Q,decls:1,vars:0,consts:[["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id","ngClass"],["panel",""]],template:function(n,l){1&n&&(i.F$t(),i.YNc(0,J,3,5,"ng-template"))},dependencies:[w.mk],styles:["div.mat-mdc-autocomplete-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[tt]},changeDetection:0}),f})();const p={provide:H.JU,useExisting:(0,i.Gpc)(()=>O),multi:!0},e=new i.OlP("mat-autocomplete-scroll-strategy"),c={provide:e,deps:[y.aV],useFactory:function o(f){return()=>f.scrollStrategies.reposition()}};let u=(()=>{class f{get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(n){this._autocompleteDisabled=(0,h.Ig)(n)}constructor(n,l,g,R,Z,st,rt,at,lt,ct,_t){this._element=n,this._overlay=l,this._viewContainerRef=g,this._zone=R,this._changeDetectorRef=Z,this._dir=rt,this._formField=at,this._document=lt,this._viewportRuler=ct,this._defaults=_t,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=v.w0.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new a.x,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=(0,C.P)(()=>{const Y=this.autocomplete?this.autocomplete.options:null;return Y?Y.changes.pipe((0,B.O)(Y),(0,L.w)(()=>(0,P.T)(...Y.map(pt=>pt.onSelectionChange)))):this._zone.onStable.pipe((0,E.q)(1),(0,L.w)(()=>this.optionSelections))}),this._handlePanelKeydown=Y=>{(Y.keyCode===F.hY&&!(0,F.Vb)(Y)||Y.keyCode===F.LH&&(0,F.Vb)(Y,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),Y.stopPropagation(),Y.preventDefault())},this._trackedModal=null,this._scrollStrategy=st}ngAfterViewInit(){const n=this._getWindow();typeof n<"u"&&this._zone.runOutsideAngular(()=>n.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(n){n.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const n=this._getWindow();typeof n<"u"&&n.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,P.T)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,W.h)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,W.h)(()=>this._overlayAttached)):(0,k.of)()).pipe((0,N.U)(n=>n instanceof t.rN?n:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,P.T)((0,b.R)(this._document,"click"),(0,b.R)(this._document,"auxclick"),(0,b.R)(this._document,"touchend")).pipe((0,W.h)(n=>{const l=(0,T.sA)(n),g=this._formField?this._formField._elementRef.nativeElement:null,R=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&l!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!g||!g.contains(l))&&(!R||!R.contains(l))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(l)}))}writeValue(n){Promise.resolve(null).then(()=>this._assignOptionValue(n))}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this._element.nativeElement.disabled=n}_handleKeydown(n){const l=n.keyCode,g=(0,F.Vb)(n);if(l===F.hY&&!g&&n.preventDefault(),this.activeOption&&l===F.K5&&this.panelOpen&&!g)this.activeOption._selectViaInteraction(),this._resetActiveItem(),n.preventDefault();else if(this.autocomplete){const R=this.autocomplete._keyManager.activeItem,Z=l===F.LH||l===F.JH;l===F.Mf||Z&&!g&&this.panelOpen?this.autocomplete._keyManager.onKeydown(n):Z&&this._canOpen()&&this.openPanel(),(Z||this.autocomplete._keyManager.activeItem!==R)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._element.nativeElement.value),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(n){let l=n.target,g=l.value;"number"===l.type&&(g=""==g?null:parseFloat(g)),this._previousValue!==g&&(this._previousValue=g,this._pendingAutoselectedOption=null,this._onChange(g),g||this._clearPreviousSelectedOption(null,!1),this._canOpen()&&this._document.activeElement===n.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(n=!1){this._formField&&"auto"===this._formField.floatLabel&&(n?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const n=this._zone.onStable.pipe((0,E.q)(1)),l=this.autocomplete.options.changes.pipe((0,K.b)(()=>this._positionStrategy.reapplyLastPosition()),(0,$.g)(0));return(0,P.T)(n,l).pipe((0,L.w)(()=>(this._zone.run(()=>{const g=this.panelOpen;this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),g!==this.panelOpen&&(this.panelOpen?this.autocomplete.opened.emit():this.autocomplete.closed.emit())}),this.panelClosingActions)),(0,E.q)(1)).subscribe(g=>this._setValueAndClose(g))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_assignOptionValue(n){const l=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(n):n;this._updateNativeInputValue(l??"")}_updateNativeInputValue(n){this._formField?this._formField._control.value=n:this._element.nativeElement.value=n,this._previousValue=n}_setValueAndClose(n){const l=n?n.source:this._pendingAutoselectedOption;l&&(this._clearPreviousSelectedOption(l),this._assignOptionValue(l.value),this._onChange(l.value),this.autocomplete._emitSelectEvent(l),this._element.nativeElement.focus()),this.closePanel()}_clearPreviousSelectedOption(n,l){this.autocomplete&&this.autocomplete.options&&this.autocomplete.options.forEach(g=>{g!==n&&g.selected&&g.deselect(l)})}_attachOverlay(){let n=this._overlayRef;n?(this._positionStrategy.setOrigin(this._getConnectedElement()),n.updateSize({width:this._getPanelWidth()})):(this._portal=new G.UE(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),n=this._overlay.create(this._getOverlayConfig()),this._overlayRef=n,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&n&&n.updateSize({width:this._getPanelWidth()})})),n&&!n.hasAttached()&&(n.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const l=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&l!==this.panelOpen&&this.autocomplete.opened.emit()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const n=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=n.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=n.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new y.X_({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const n=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(n),this._positionStrategy=n,n}_setStrategyPositions(n){const l=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],g=this._aboveClass,R=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:g},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:g}];let Z;Z="above"===this.position?R:"below"===this.position?l:[...l,...R],n.withPositions(Z)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const n=this.autocomplete;if(n.autoActiveFirstOption){let l=-1;for(let g=0;g<n.options.length;g++)if(!n.options.get(g).disabled){l=g;break}n._keyManager.setActiveItem(l)}else n._keyManager.setActiveItem(-1)}_canOpen(){const n=this._element.nativeElement;return!n.readOnly&&!n.disabled&&!this._autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(n){const l=this.autocomplete,g=(0,t.CB)(n,l.options,l.optionGroups);if(0===n&&1===g)l._setScrollTop(0);else if(l.panel){const R=l.options.toArray()[n];if(R){const Z=R._getHostElement(),st=(0,t.jH)(Z.offsetTop,Z.offsetHeight,l._getScrollTop(),l.panel.nativeElement.offsetHeight);l._setScrollTop(st)}}}_applyModalPanelOwnership(){const n=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!n)return;const l=this.autocomplete.id;this._trackedModal&&(0,x.iD)(this._trackedModal,"aria-owns",l),(0,x.Zf)(n,"aria-owns",l),this._trackedModal=n}_clearFromModal(){this._trackedModal&&((0,x.iD)(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}}return f.\u0275fac=function(n){return new(n||f)(i.Y36(i.SBq),i.Y36(y.aV),i.Y36(i.s_b),i.Y36(i.R0b),i.Y36(i.sBO),i.Y36(e),i.Y36(q.Is,8),i.Y36(j.G_,9),i.Y36(w.K0,8),i.Y36(I.rL),i.Y36(X,8))},f.\u0275dir=i.lG2({type:f,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[i.TTD]}),f})(),O=(()=>{class f extends u{constructor(){super(...arguments),this._aboveClass="mat-mdc-autocomplete-panel-above"}}return f.\u0275fac=function(){let A;return function(l){return(A||(A=i.n5z(f)))(l||f)}}(),f.\u0275dir=i.lG2({type:f,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(n,l){1&n&&i.NdJ("focusin",function(){return l._handleFocus()})("blur",function(){return l._onTouched()})("input",function(R){return l._handleInput(R)})("keydown",function(R){return l._handleKeydown(R)})("click",function(){return l._handleClick()}),2&n&&i.uIk("autocomplete",l.autocompleteAttribute)("role",l.autocompleteDisabled?null:"combobox")("aria-autocomplete",l.autocompleteDisabled?null:"list")("aria-activedescendant",l.panelOpen&&l.activeOption?l.activeOption.id:null)("aria-expanded",l.autocompleteDisabled?null:l.panelOpen.toString())("aria-controls",l.autocompleteDisabled||!l.panelOpen||null==l.autocomplete?null:l.autocomplete.id)("aria-haspopup",l.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[i._Bn([p]),i.qOj]}),f})(),D=(()=>{class f{}return f.\u0275fac=function(n){return new(n||f)},f.\u0275mod=i.oAB({type:f}),f.\u0275inj=i.cJS({providers:[c],imports:[y.U8,t.Ng,t.BQ,w.ez,I.ZD,t.Ng,t.BQ]}),f})()},617:(V,U,s)=>{s.d(U,{Hw:()=>r,Ps:()=>M});var i=s(5879),t=s(3680),w=s(2495),I=s(6814),y=s(2096),x=s(8504),h=s(9315),T=s(7394),m=s(9397),v=s(7398),a=s(6306),C=s(4716),P=s(3020),k=s(8180),b=s(9862),F=s(6593);const G=["*"];let H;function B(p){return function j(){if(void 0===H&&(H=null,typeof window<"u")){const p=window;void 0!==p.trustedTypes&&(H=p.trustedTypes.createPolicy("angular#components",{createHTML:S=>S}))}return H}()?.createHTML(p)||p}function L(p){return Error(`Unable to find icon with the name "${p}"`)}function W(p){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${p}".`)}function N(p){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${p}".`)}class K{constructor(S,e,o){this.url=S,this.svgText=e,this.options=o}}let $=(()=>{class p{constructor(e,o,c,u){this._httpClient=e,this._sanitizer=o,this._errorHandler=u,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=c}addSvgIcon(e,o,c){return this.addSvgIconInNamespace("",e,o,c)}addSvgIconLiteral(e,o,c){return this.addSvgIconLiteralInNamespace("",e,o,c)}addSvgIconInNamespace(e,o,c,u){return this._addSvgIconConfig(e,o,new K(c,null,u))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,o,c,u){const O=this._sanitizer.sanitize(i.q3G.HTML,c);if(!O)throw N(c);const D=B(O);return this._addSvgIconConfig(e,o,new K("",D,u))}addSvgIconSet(e,o){return this.addSvgIconSetInNamespace("",e,o)}addSvgIconSetLiteral(e,o){return this.addSvgIconSetLiteralInNamespace("",e,o)}addSvgIconSetInNamespace(e,o,c){return this._addSvgIconSetConfig(e,new K(o,null,c))}addSvgIconSetLiteralInNamespace(e,o,c){const u=this._sanitizer.sanitize(i.q3G.HTML,o);if(!u)throw N(o);const O=B(u);return this._addSvgIconSetConfig(e,new K("",O,c))}registerFontClassAlias(e,o=e){return this._fontCssClassesByAlias.set(e,o),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const o=this._sanitizer.sanitize(i.q3G.RESOURCE_URL,e);if(!o)throw W(e);const c=this._cachedIconsByUrl.get(o);return c?(0,y.of)(J(c)):this._loadSvgIconFromConfig(new K(e,null)).pipe((0,m.b)(u=>this._cachedIconsByUrl.set(o,u)),(0,v.U)(u=>J(u)))}getNamedSvgIcon(e,o=""){const c=Q(o,e);let u=this._svgIconConfigs.get(c);if(u)return this._getSvgFromConfig(u);if(u=this._getIconConfigFromResolvers(o,e),u)return this._svgIconConfigs.set(c,u),this._getSvgFromConfig(u);const O=this._iconSetConfigs.get(o);return O?this._getSvgFromIconSetConfigs(e,O):(0,x._)(L(c))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,y.of)(J(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,v.U)(o=>J(o)))}_getSvgFromIconSetConfigs(e,o){const c=this._extractIconWithNameFromAnySet(e,o);if(c)return(0,y.of)(c);const u=o.filter(O=>!O.svgText).map(O=>this._loadSvgIconSetFromConfig(O).pipe((0,a.K)(D=>{const A=`Loading icon set URL: ${this._sanitizer.sanitize(i.q3G.RESOURCE_URL,O.url)} failed: ${D.message}`;return this._errorHandler.handleError(new Error(A)),(0,y.of)(null)})));return(0,h.D)(u).pipe((0,v.U)(()=>{const O=this._extractIconWithNameFromAnySet(e,o);if(!O)throw L(e);return O}))}_extractIconWithNameFromAnySet(e,o){for(let c=o.length-1;c>=0;c--){const u=o[c];if(u.svgText&&u.svgText.toString().indexOf(e)>-1){const O=this._svgElementFromConfig(u),D=this._extractSvgIconFromSet(O,e,u.options);if(D)return D}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,m.b)(o=>e.svgText=o),(0,v.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,y.of)(null):this._fetchIcon(e).pipe((0,m.b)(o=>e.svgText=o))}_extractSvgIconFromSet(e,o,c){const u=e.querySelector(`[id="${o}"]`);if(!u)return null;const O=u.cloneNode(!0);if(O.removeAttribute("id"),"svg"===O.nodeName.toLowerCase())return this._setSvgAttributes(O,c);if("symbol"===O.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(O),c);const D=this._svgElementFromString(B("<svg></svg>"));return D.appendChild(O),this._setSvgAttributes(D,c)}_svgElementFromString(e){const o=this._document.createElement("DIV");o.innerHTML=e;const c=o.querySelector("svg");if(!c)throw Error("<svg> tag not found");return c}_toSvgElement(e){const o=this._svgElementFromString(B("<svg></svg>")),c=e.attributes;for(let u=0;u<c.length;u++){const{name:O,value:D}=c[u];"id"!==O&&o.setAttribute(O,D)}for(let u=0;u<e.childNodes.length;u++)e.childNodes[u].nodeType===this._document.ELEMENT_NODE&&o.appendChild(e.childNodes[u].cloneNode(!0));return o}_setSvgAttributes(e,o){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),o&&o.viewBox&&e.setAttribute("viewBox",o.viewBox),e}_fetchIcon(e){const{url:o,options:c}=e,u=c?.withCredentials??!1;if(!this._httpClient)throw function E(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const O=this._sanitizer.sanitize(i.q3G.RESOURCE_URL,o);if(!O)throw W(o);const D=this._inProgressUrlFetches.get(O);if(D)return D;const f=this._httpClient.get(O,{responseType:"text",withCredentials:u}).pipe((0,v.U)(A=>B(A)),(0,C.x)(()=>this._inProgressUrlFetches.delete(O)),(0,P.B)());return this._inProgressUrlFetches.set(O,f),f}_addSvgIconConfig(e,o,c){return this._svgIconConfigs.set(Q(e,o),c),this}_addSvgIconSetConfig(e,o){const c=this._iconSetConfigs.get(e);return c?c.push(o):this._iconSetConfigs.set(e,[o]),this}_svgElementFromConfig(e){if(!e.svgElement){const o=this._svgElementFromString(e.svgText);this._setSvgAttributes(o,e.options),e.svgElement=o}return e.svgElement}_getIconConfigFromResolvers(e,o){for(let c=0;c<this._resolvers.length;c++){const u=this._resolvers[c](o,e);if(u)return tt(u)?new K(u.url,null,u.options):new K(u,null)}}}return p.\u0275fac=function(e){return new(e||p)(i.LFG(b.eN,8),i.LFG(F.H7),i.LFG(I.K0,8),i.LFG(i.qLn))},p.\u0275prov=i.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();function J(p){return p.cloneNode(!0)}function Q(p,S){return p+":"+S}function tt(p){return!(!p.url||!p.options)}const et=(0,t.pj)(class{constructor(p){this._elementRef=p}}),nt=new i.OlP("MAT_ICON_DEFAULT_OPTIONS"),it=new i.OlP("mat-icon-location",{providedIn:"root",factory:function X(){const p=(0,i.f3M)(I.K0),S=p?p.location:null;return{getPathname:()=>S?S.pathname+S.search:""}}}),z=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],d=z.map(p=>`[${p}]`).join(", "),_=/^url\(['"]?#(.*?)['"]?\)$/;let r=(()=>{class p extends et{get inline(){return this._inline}set inline(e){this._inline=(0,w.Ig)(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const o=this._cleanupFontValue(e);o!==this._fontSet&&(this._fontSet=o,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const o=this._cleanupFontValue(e);o!==this._fontIcon&&(this._fontIcon=o,this._updateFontIconClasses())}constructor(e,o,c,u,O,D){super(e),this._iconRegistry=o,this._location=u,this._errorHandler=O,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=T.w0.EMPTY,D&&(D.color&&(this.color=this.defaultColor=D.color),D.fontSet&&(this.fontSet=D.fontSet)),c||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const o=e.split(":");switch(o.length){case 1:return["",o[0]];case 2:return o;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const o=this._location.getPathname();o!==this._previousPath&&(this._previousPath=o,this._prependPathToReferences(o))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let o=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();o--;){const c=e.childNodes[o];(1!==c.nodeType||"svg"===c.nodeName.toLowerCase())&&c.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,o=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(c=>c.length>0);this._previousFontSetClass.forEach(c=>e.classList.remove(c)),o.forEach(c=>e.classList.add(c)),this._previousFontSetClass=o,this.fontIcon!==this._previousFontIconClass&&!o.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const o=this._elementsWithExternalReferences;o&&o.forEach((c,u)=>{c.forEach(O=>{u.setAttribute(O.name,`url('${e}#${O.value}')`)})})}_cacheChildrenWithExternalReferences(e){const o=e.querySelectorAll(d),c=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let u=0;u<o.length;u++)z.forEach(O=>{const D=o[u],f=D.getAttribute(O),A=f?f.match(_):null;if(A){let n=c.get(D);n||(n=[],c.set(D,n)),n.push({name:O,value:A[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[o,c]=this._splitIconName(e);o&&(this._svgNamespace=o),c&&(this._svgName=c),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(c,o).pipe((0,k.q)(1)).subscribe(u=>this._setSvgElement(u),u=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${o}:${c}! ${u.message}`))})}}}return p.\u0275fac=function(e){return new(e||p)(i.Y36(i.SBq),i.Y36($),i.$8M("aria-hidden"),i.Y36(it),i.Y36(i.qLn),i.Y36(nt,8))},p.\u0275cmp=i.Xpm({type:p,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,o){2&e&&(i.uIk("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),i.ekj("mat-icon-inline",o.inline)("mat-icon-no-color","primary"!==o.color&&"accent"!==o.color&&"warn"!==o.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[i.qOj],ngContentSelectors:G,decls:1,vars:0,template:function(e,o){1&e&&(i.F$t(),i.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),p})(),M=(()=>{class p{}return p.\u0275fac=function(e){return new(e||p)},p.\u0275mod=i.oAB({type:p}),p.\u0275inj=i.cJS({imports:[t.BQ,t.BQ]}),p})()}}]);