import{a as O}from"./chunk-DELQYH7M.js";import{b as S,d as M,f as g,g as k,h as T,j as d,m as y,n as F,p as E,q as _,s as I,v as D,x as w,y as B}from"./chunk-PZ7MFQJW.js";import{Ka as r,Va as n,Wa as e,Xa as c,_ as p,ab as u,dc as b,ec as h,mb as a,mc as C,rd as G,td as L,va as o,vb as f,wa as m,wb as v}from"./chunk-OUFBJRPP.js";var x=()=>["/"],U=(()=>{class l{constructor(s,i,t){this.bookService=s,this.loaderService=i,this.router=t,this.form=new T({title:new d("",[M.required]),description:new d("")})}ngOnInit(){this.form.controls.title.setValue(this.dbTitle.title),this.form.controls.description.setValue(this.dbTitle.description)}save(){this.form.controls.title.value&&(this.dbTitle.title=this.form.controls.title.value,this.dbTitle.description=this.form.controls.description.value||"",this.dbTitle.lastOpenedTime=Date.now(),this.loaderService.start(),this.bookService.updateTitle$(this.dbTitle).subscribe(()=>{this.loaderService.stop(),this.router.navigate(["/"]).then()}))}static{this.\u0275fac=function(i){return new(i||l)(m(C),m(O),m(b))}}static{this.\u0275cmp=p({type:l,selectors:[["app-edit-book-header"]],inputs:{dbTitle:"dbTitle"},standalone:!0,features:[f],decls:16,vars:6,consts:[[1,"component"],[1,"form",3,"formGroup"],["appearance","outline",1,"title"],["matInput","",3,"formControl"],["appearance","outline",1,"description"],[1,"buttons"],["mat-button","","color","primary",3,"routerLink"],["mat-button","","color","primary",3,"click","disabled"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),a(4,"Title"),e(),c(5,"input",3),e(),n(6,"mat-form-field",4)(7,"mat-label"),a(8,"Description"),e(),n(9,"textarea",3),a(10," "),e()()(),n(11,"div",5)(12,"button",6),a(13," Cancel"),e(),n(14,"button",7),u("click",function(){return t.save()}),a(15," Save"),e()()()),i&2&&(o(),r("formGroup",t.form),o(4),r("formControl",t.form.controls.title),o(4),r("formControl",t.form.controls.description),o(3),r("routerLink",v(5,x)),o(2),r("disabled",t.form.invalid))},dependencies:[E,S,g,k,B,w,D,I,_,y,F,L,G,h],styles:[".component[_ngcontent-%COMP%]{padding:var(--padding-main);padding-top:var(--padding-xlarge)}.component[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}}return l})();export{U as EditBookHeaderComponent};
