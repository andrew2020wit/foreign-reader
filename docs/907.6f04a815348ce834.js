"use strict";(self.webpackChunkangular_bilingua=self.webpackChunkangular_bilingua||[]).push([[907],{5709:(U,O,a)=>{a.d(O,{j:()=>M});var D=a(5619),g=a(8180),h=a(2096),c=a(7772),v=a(5879),m=a(2e3),C=a(957);let M=(()=>{class e{constructor(r,_){this.dbService=r,this.infoService=_,this.examples$=new D.X([]),this.sort=(l,f)=>(l.toDoTimestamp||0)-(f.toDoTimestamp||0),this.dbService.getAll(c.L6.FavoriteExamples).pipe((0,g.q)(1)).subscribe(l=>{l.forEach(f=>f.showDetails=!1),l?(l.sort(this.sort),this.examples$.next(l)):this.examples$.next([])})}deleteAll(){return this.dbService.clear(c.L6.FavoriteExamples)}import(r){const _=JSON.parse(r)?.favoriteExamples;return _?.length?this.dbService.bulkAdd(c.L6.FavoriteExamples,_).pipe((0,g.q)(1)):(console.error("!examples?.length"),this.infoService.error("!examples?.length"),(0,h.of)([]))}addExample(r){const _=Date.now(),l={...r,timestamp:_,showDetails:!1};this.dbService.add(c.L6.FavoriteExamples,l).pipe((0,g.q)(1)).subscribe();const f=[l,...this.examples$.value];this.examples$.next(f),this.infoService.show("added: "+r.original)}update(r){if(!r?.timestamp||!r.toDoTimestamp)return;const _=this.examples$.value,l=_.find(f=>f.timestamp===r.timestamp);l&&(l.toDoTimestamp=r.toDoTimestamp,l.updateTimestamp=Date.now(),this.dbService.update(c.L6.FavoriteExamples,l).pipe((0,g.q)(1)).subscribe(),_.sort(this.sort),this.examples$.next(_))}removeExample(r){if(!r)return;this.dbService.delete(c.L6.FavoriteExamples,r).pipe((0,g.q)(1)).subscribe();const _=this.examples$.value.filter(l=>l.timestamp!==r);this.examples$.next(_)}}return e.\u0275fac=function(r){return new(r||e)(v.LFG(m.ys),v.LFG(C.C))},e.\u0275prov=v.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},2907:(U,O,a)=>{a.r(O),a.d(O,{FavoriteExamplesComponent:()=>P});var r,D=a(7582),g=a(6814),h=a(2296),c=a(4408),v=a(5986),m=a(6223),C=a(1791),M=a(2596),e=a(5879),y=a(5709);function _(s,i){if(1&s&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij(" / ",t.allExamplesNumber," ")}}function l(s,i){if(1&s&&(e.TgZ(0,"div",24),e._uU(1),e.qZA()),2&s){const t=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",t.transcription," ")}}function f(s,i){if(1&s&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&s){const t=e.oxw(3).$implicit;e.xp6(1),e.hij(" Synonym: ",t.synonym," ")}}function T(s,i){if(1&s&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&s){const t=e.oxw(3).$implicit;e.xp6(1),e.hij(" Antonym: ",t.antonym," ")}}function b(s,i){if(1&s&&(e.TgZ(0,"div",27),e._uU(1),e.qZA()),2&s){const t=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",t.translation," ")}}function F(s,i){if(1&s&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&s){const t=e.oxw(3).$implicit;e.xp6(1),e.hij("U: ",e.xi3(2,1,t.updateTimestamp,"dd.MM.yyyy"),";")}}function A(s,i){if(1&s&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&s){const t=e.oxw(3).$implicit;e.xp6(1),e.hij("ToDo: ",e.xi3(2,1,t.toDoTimestamp,"dd.MM.yyyy"),"")}}function Z(s,i){if(1&s&&(e.TgZ(0,"div",17),e.YNc(1,l,2,1,"div",18),e.TgZ(2,"div",19),e._uU(3),e.qZA(),e.YNc(4,f,2,1,"div",20),e.YNc(5,T,2,1,"div",21),e.YNc(6,b,2,1,"div",22),e.TgZ(7,"div",23)(8,"span"),e._uU(9),e.ALo(10,"date"),e.qZA(),e.YNc(11,F,3,4,"span",4),e.YNc(12,A,3,4,"span",4),e.qZA()()),2&s){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",t.transcription),e.xp6(2),e.hij(" ",t.definition," "),e.xp6(1),e.Q6J("ngIf",t.synonym),e.xp6(1),e.Q6J("ngIf",t.antonym),e.xp6(1),e.Q6J("ngIf",t.translation),e.xp6(3),e.hij(" C: ",e.xi3(10,8,t.timestamp,"dd.MM.yyyy"),"; "),e.xp6(2),e.Q6J("ngIf",t.updateTimestamp),e.xp6(1),e.Q6J("ngIf",t.toDoTimestamp)}}function L(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",9)(2,"span",10),e._uU(3),e.qZA(),e.TgZ(4,"button",11),e.NdJ("click",function(){e.CHM(t);const u=e.oxw().$implicit,x=e.oxw();return e.KtG(x.favoriteExamplesService.removeExample(u.timestamp||0))}),e._uU(5," Del "),e.qZA(),e.TgZ(6,"button",12),e.NdJ("click",function(){e.CHM(t);const u=e.oxw().$implicit,x=e.oxw();return e.KtG(x.setToDo(u,1))}),e._uU(7," 1 "),e.qZA(),e.TgZ(8,"button",12),e.NdJ("click",function(){e.CHM(t);const u=e.oxw().$implicit,x=e.oxw();return e.KtG(x.setToDo(u,3))}),e._uU(9," 3 "),e.qZA(),e.TgZ(10,"button",12),e.NdJ("click",function(){e.CHM(t);const u=e.oxw().$implicit,x=e.oxw();return e.KtG(x.setToDo(u,7))}),e._uU(11," 7 "),e.qZA(),e.TgZ(12,"button",12),e.NdJ("click",function(){e.CHM(t);const u=e.oxw().$implicit,x=e.oxw();return e.KtG(x.setToDo(u,30))}),e._uU(13," 30 "),e.qZA(),e.TgZ(14,"span",13),e._uU(15),e.qZA(),e.TgZ(16,"span",14),e._uU(17),e.qZA()(),e.TgZ(18,"div",15),e.NdJ("click",function(){e.CHM(t);const u=e.oxw().$implicit;return e.KtG(u.showDetails=!u.showDetails)}),e._uU(19),e.qZA(),e.YNc(20,Z,13,11,"div",16),e.qZA()}if(2&s){const t=e.oxw().$implicit,d=e.oxw();e.ekj("old",d.dayFromUpdate(t)>25),e.xp6(2),e.Q6J("matTooltip","dayFromCreate/Update"),e.xp6(1),e.AsE(" [ ",d.dayFromCreate(t)," : ",d.dayFromUpdate(t),"]"),e.xp6(12),e.Oqu(t.partOfSpeech),e.xp6(2),e.Oqu(t.term),e.xp6(2),e.hij(" ",t.original," "),e.xp6(1),e.Q6J("ngIf",t.showDetails)}}function B(s,i){if(1&s&&(e.ynx(0),e.YNc(1,L,21,9,"div",7),e.BQk()),2&s){const t=i.$implicit,d=e.oxw();e.xp6(1),e.Q6J("ngIf",d.showAll||d.exampleIsToDo(t))}}let P=((r=class{constructor(i){this.favoriteExamplesService=i,this.dayTime=864e5,this.showAll=!1,this.examples=[],this.toDoNumber=0,this.allExamplesNumber=0}ngOnInit(){this.favoriteExamplesService.examples$.pipe((0,C.t)(this)).subscribe(i=>{this.allExamplesNumber=i?.length||0,this.examples=i.slice(0,1e3),this.computeToDoNumber()})}trackBy(i,t){return t.timestamp}setToDo(i,t){i.toDoTimestamp=Date.now()+t*this.dayTime,this.favoriteExamplesService.update(i)}dayFromUpdate(i){return i.timestamp?Math.round((Date.now()-(i.updateTimestamp||i.timestamp))/this.dayTime):0}dayFromCreate(i){return i.timestamp?Math.round((Date.now()-i.timestamp)/this.dayTime):0}exampleIsToDo(i){return!i.toDoTimestamp||i.toDoTimestamp<Date.now()+432e5}computeToDoNumber(){this.toDoNumber=this.examples.filter(i=>this.exampleIsToDo(i)).length}}).\u0275fac=function(i){return new(i||r)(e.Y36(y.j))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-favorite-examples"]],standalone:!0,features:[e.jDz],decls:10,vars:6,consts:[[1,"list"],[1,"header"],["mat-button","","color","primary","routerLink","/"],[1,"example-number"],[4,"ngIf"],["color","primary",1,"checkbox",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","example",3,"old",4,"ngIf"],[1,"example"],[1,"example-header"],[1,"day-from-update",3,"matTooltip"],["mat-button","","color","warn",3,"click"],["mat-button","","color","primary",3,"click"],[1,"pos"],[1,"term"],[1,"original",3,"click"],["class","description",4,"ngIf"],[1,"description"],["class","transcription",4,"ngIf"],[1,"definition"],["class","synonym",4,"ngIf"],["class","antonym",4,"ngIf"],["class","translation",4,"ngIf"],[1,"dates"],[1,"transcription"],[1,"synonym"],[1,"antonym"],[1,"translation"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e._uU(3,"Go Home"),e.qZA(),e.TgZ(4,"span",3),e._uU(5),e.qZA(),e.YNc(6,_,2,1,"span",4),e.TgZ(7,"mat-checkbox",5),e.NdJ("ngModelChange",function(u){return t.showAll=u}),e._uU(8,"Show All"),e.qZA()(),e.YNc(9,B,2,1,"ng-container",6),e.qZA()),2&i&&(e.xp6(5),e.AsE("Example number: ",t.toDoNumber," / ",(null==t.examples?null:t.examples.length)||0," "),e.xp6(1),e.Q6J("ngIf",t.allExamplesNumber!==(null==t.examples?null:t.examples.length)),e.xp6(1),e.Q6J("ngModel",t.showAll),e.xp6(2),e.Q6J("ngForOf",t.examples)("ngForTrackBy",t.trackBy))},dependencies:[g.ez,g.sg,g.O5,g.uU,h.ot,h.lW,c.rH,v.p9,v.oG,m.u5,m.JJ,m.On,M.AV,M.gM],styles:[".list[_ngcontent-%COMP%]{padding:var(--padding-main);max-width:800px;margin:auto}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]{padding:var(--padding-small);outline:1px solid gray;margin:var(--padding-small)}.list[_ngcontent-%COMP%]   .example.old[_ngcontent-%COMP%]{outline:1px solid red}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .example-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--padding-main)}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .example-header[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:gray}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .example-header[_ngcontent-%COMP%]   .pos[_ngcontent-%COMP%]{color:green}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .example-header[_ngcontent-%COMP%]   .term[_ngcontent-%COMP%]{font-weight:700}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .original[_ngcontent-%COMP%]{cursor:pointer;margin-top:var(--padding-small);font-size:22px}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:22px;padding-left:var(--padding-main)}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:var(--padding-small) 0}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%]{color:#00008b}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .synonym[_ngcontent-%COMP%]{color:green}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .antonym[_ngcontent-%COMP%]{color:red}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .translation[_ngcontent-%COMP%]{color:gray}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .dates[_ngcontent-%COMP%]{display:flex;gap:var(--padding-small);font-size:12px}"]}),r);P=(0,D.gn)([(0,C.c)()],P)},957:(U,O,a)=>{a.d(O,{C:()=>h});var D=a(5879),g=a(2939);let h=(()=>{class c{constructor(m){this.snackBar=m}show(m){this.snackBar.open(m,"",{duration:1e3,verticalPosition:"top",panelClass:"info-snack"})}error(m){this.snackBar.open(m,"",{duration:1e3,verticalPosition:"top",panelClass:"error-snack"})}}return c.\u0275fac=function(m){return new(m||c)(D.LFG(g.ux))},c.\u0275prov=D.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},1791:(U,O,a)=>{a.d(O,{c:()=>B,t:()=>j});var D=a(8645),g=a(7394),h=a(7715),c=a(6232),v=a(5879),m=a(1631),C=a(9773);const M=v.GuJ,y=Symbol("__destroy"),r=Symbol("__decoratorApplied");function _(n){return"string"==typeof n?Symbol(`__destroy__${n}`):y}function f(n,o){n[o]||(n[o]=new D.x)}function T(n,o){n[o]&&(n[o].next(),n[o].complete(),n[o]=null)}function b(n){n instanceof g.w0&&n.unsubscribe()}function A(n,o){return function(){if(n&&n.call(this),T(this,_()),o.arrayName&&function F(n){Array.isArray(n)&&n.forEach(b)}(this[o.arrayName]),o.checkProperties)for(const p in this)o.blackList?.includes(p)||b(this[p])}}function B(n={}){return o=>{!function e(n){return!!n[M]}(o)?function Z(n,o){n.prototype.ngOnDestroy=A(n.prototype.ngOnDestroy,o)}(o,n):function L(n,o){const p=n.\u0275pipe;p.onDestroy=A(p.onDestroy,o)}(o,n),function l(n){n.prototype[r]=!0}(o)}}const P=7,s=Symbol("CheckerHasBeenSet");function d(n){const o=v.dqk.Zone;return o&&"function"==typeof o.root?.run?o.root.run(n):n()}const x=!1;function j(n,o){return p=>{const E=_(o);"string"==typeof o?function S(n,o,p){const E=n[o];if(x&&"function"!=typeof E)throw new Error(`${n.constructor.name} is using untilDestroyed but doesn't implement ${o}`);f(n,p),n[o]=function(){E.apply(this,arguments),T(this,p),n[o]=E}}(n,o,E):(x&&function K(n){const o=Object.getPrototypeOf(n);if(!(r in o))throw new Error("untilDestroyed operator cannot be used inside directives or components or providers that are not decorated with UntilDestroy decorator")}(n),f(n,E));const I=n[E];return x&&function i(n,o){n[s]||function t(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha||typeof process<"u"&&"[object process]"===Object.prototype.toString.call(process)}()||(d(()=>(0,h.D)(Promise.resolve()).pipe((0,m.z)(()=>{let p;try{p=(0,v.EEQ)(n)}catch{p=null}const E=p?.lView;if(null==E)return c.E;const I=E[P]||(E[P]=[]),w=new D.x;return I.push(function(){d(()=>{w.next(),w.complete()})}),w}),(0,m.z)(()=>Promise.resolve())).subscribe(()=>{(o.observed??o.observers.length>0)&&console.warn(function u(n){return`\n  The ${n.constructor.name} still has subscriptions that haven't been unsubscribed.\n  This may happen if the class extends another class decorated with @UntilDestroy().\n  The child class implements its own ngOnDestroy() method but doesn't call super.ngOnDestroy().\n  Let's look at the following example:\n  @UntilDestroy()\n  @Directive()\n  export abstract class BaseDirective {}\n  @Component({ template: '' })\n  export class ConcreteComponent extends BaseDirective implements OnDestroy {\n    constructor() {\n      super();\n      someObservable$.pipe(untilDestroyed(this)).subscribe();\n    }\n    ngOnDestroy(): void {\n      // Some logic here...\n    }\n  }\n  The BaseDirective.ngOnDestroy() will not be called since Angular will call ngOnDestroy()\n  on the ConcreteComponent, but not on the BaseDirective.\n  One of the solutions is to declare an empty ngOnDestroy method on the BaseDirective:\n  @UntilDestroy()\n  @Directive()\n  export abstract class BaseDirective {\n    ngOnDestroy(): void {}\n  }\n  @Component({ template: '' })\n  export class ConcreteComponent extends BaseDirective implements OnDestroy {\n    constructor() {\n      super();\n      someObservable$.pipe(untilDestroyed(this)).subscribe();\n    }\n    ngOnDestroy(): void {\n      // Some logic here...\n      super.ngOnDestroy();\n    }\n  }\n  `}(n))})),n[s]=!0)}(n,I),p.pipe((0,C.R)(I))}}}}]);