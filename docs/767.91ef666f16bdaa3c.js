"use strict";(self.webpackChunkforeign_reader=self.webpackChunkforeign_reader||[]).push([[767],{1177:(T,C,n)=>{n.d(C,{LH:()=>p,Ot:()=>k,Zt:()=>_,jk:()=>o});const o="http://127.0.0.1:8765",k=500,p="ankiTag",_="ankiRequestText"},3609:(T,C,n)=>{n.d(C,{K:()=>y});var o=n(4412),k=n(4572),p=n(6697);function _(s,h){const e=h.index>=0?h.index:s.length+h.index;if(s.slice(e,e+h.pattern.length)!==h.pattern)return null;const t=s.length-(s.slice(0,h.index).length+h.pattern.length);let d=s.slice(0,h.index)+h.replace;return t>0&&(d+=s.slice(-1*t)),d}var M=n(4438),m=n(7915);let y=(()=>{class s{constructor(e){this.bookService=e,this.currentDictionaryState$=new o.t(null),this.minimalSearchPattern=2,this.maxNumberOfSearchResults=50,this.morphology={},this.morphologyReplaceRules=[],this.dictionaryIsEmpty=!0,this.morphologyIsEmpty=!0,this.searchTerm="",this.currentTerm="",this.terms=[],this.seeAlsoWords=[],(0,k.z)([this.bookService.getMorphology$(),this.bookService.getDictionaryTerms$(),this.bookService.getMorphologyReplaceRules$()]).pipe((0,p.s)(1)).subscribe(([t,d,i])=>{t?.morphology?(this.morphology=t.morphology,this.morphologyIsEmpty=!1):(this.morphology={},this.morphologyIsEmpty=!0),this.morphologyReplaceRules=i?.morphologyReplaceRules?i.morphologyReplaceRules:[],d.length?(this.terms=d,this.dictionaryIsEmpty=!1):this.dictionaryIsEmpty=!0,this.setDictionaryState(null),this.searchTerm&&this.setTerm(this.searchTerm)})}searchTerms(e){if(e.length<this.minimalSearchPattern)return null;const t=new RegExp(e.replaceAll("*",".+"),"iu");return this.terms.filter(d=>t.test(d)).slice(0,this.maxNumberOfSearchResults)}setTerm(e){if(this.searchTerm=e,this.currentTerm=e.trim().toLowerCase(),this.seeAlsoWords=[],this.setDictionaryState(null),this.morphologyReplaceRules.forEach(d=>{const i=_(this.currentTerm,d);i&&this.checkTerm(i)&&this.seeAlsoWords.push(i)}),!this.morphologyIsEmpty){const d=this.morphology[this.currentTerm];d?.o&&this.seeAlsoWords.push(d.o)}let t=this.checkTerm(this.currentTerm);if(t)this.setDictionaryState(t);else{if(!this.morphologyIsEmpty){const d=this.morphology[this.currentTerm];if(d?.o&&(t=this.checkTerm(d.o),t))return void this.setDictionaryState(t)}for(let d=0;d<this.morphologyReplaceRules.length;d++){const i=_(this.currentTerm,this.morphologyReplaceRules[d]);if(!i)continue;const a=this.checkTerm(i);if(a)return this.currentTerm=i,void this.setDictionaryState(a)}}}setDictionaryState(e){e?this.bookService.getDictionaryItem$(e).subscribe(t=>{this.currentDictionaryState$.next({currentDictionaryTerm:t,dictionaryIsEmpty:this.dictionaryIsEmpty,searchTerm:this.searchTerm,seeAlsoWords:this.seeAlsoWords})}):this.setNullState()}setNullState(){this.seeAlsoWords=[],this.currentDictionaryState$.next({currentDictionaryTerm:null,dictionaryIsEmpty:this.dictionaryIsEmpty,searchTerm:this.searchTerm,seeAlsoWords:this.seeAlsoWords})}checkTerm(e){return this.terms.includes(e)?e:""}static{this.\u0275fac=function(t){return new(t||s)(M.KVO(m.l))}}static{this.\u0275prov=M.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})()},16:(T,C,n)=>{n.d(C,{b:()=>e});var o=n(9437),k=n(5558),p=n(8141),_=n(6697),M=n(6354),m=n(4438),y=n(1626),s=n(1502),h=n(9530);let e=(()=>{class t{constructor(i,a,g){this.http=i,this.localStorageService=a,this.info=g,this.ankiHost=this.localStorageService.ankiHost}markCards(i){this.http.post(this.ankiHost,{action:"forgetCards",version:6,params:{cards:i}}).pipe((0,o.W)(a=>{throw this.info.error("There is error with anki-connection"),a}),(0,k.n)(()=>this.http.post(this.ankiHost,{action:"answerCards",version:6,params:{answers:i.map(a=>({cardId:a,ease:1}))}})),(0,p.M)(()=>this.info.show(i.length+" items are selected")),(0,_.s)(1)).subscribe()}addTagForNotes(i,a){this.http.post(this.ankiHost,{action:"addTags",version:6,params:{notes:i,tags:a}}).pipe((0,o.W)(g=>{throw this.info.error("There is error with anki-connection"),g}),(0,p.M)(()=>this.info.show("Tag is added to "+i.length+" items")),(0,_.s)(1)).subscribe()}findCards(i){return this.http.post(this.ankiHost,{action:"findCards",version:6,params:{query:i}}).pipe((0,o.W)(a=>{throw this.info.error("There is error with anki-connection"),a}),(0,p.M)(a=>{a?.error&&this.info.error("Anki findCards error")}),(0,k.n)(a=>this.http.post(this.ankiHost,{action:"cardsInfo",version:6,params:{cards:a.result}}).pipe((0,p.M)(g=>{g?.error&&this.info.error("Anki findCards error")}),(0,M.T)(g=>g.result))))}findNotes(i){return this.http.post(this.ankiHost,{action:"findNotes",version:6,params:{query:i}}).pipe((0,o.W)(a=>{throw this.info.error("There is error with anki-connection"),a}),(0,p.M)(a=>{a?.error&&this.info.error("Anki findNotes error")}),(0,k.n)(a=>this.http.post(this.ankiHost,{action:"notesInfo",version:6,params:{notes:a.result}}).pipe((0,p.M)(g=>{g?.error&&this.info.error("Anki findCards error")}),(0,M.T)(g=>g.result))))}static{this.\u0275fac=function(a){return new(a||t)(m.KVO(y.Qq),m.KVO(s.s),m.KVO(h.O))}}static{this.\u0275prov=m.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})()},7767:(T,C,n)=>{n.r(C),n.d(C,{FavoriteWordPageComponent:()=>I});var o=n(1635),k=n(5256),p=n(8834),_=n(9213),M=n(882),m=n(9417),y=n(9631),s=n(6697),h=n(1177),e=n(4710),t=n(4438),d=n(280),i=n(16),a=n(9530),g=n(1502);function O(v,c){if(1&v){const r=t.RV6();t.j41(0,"div",3)(1,"button",20),t.bIt("click",function(){t.eBV(r);const u=t.XpG();return t.Njj(u.searchAll())}),t.EFF(2," Search All "),t.k0s()()}}function E(v,c){if(1&v){const r=t.RV6();t.j41(0,"div",4)(1,"div",21)(2,"button",22),t.bIt("click",function(){const u=t.eBV(r).$implicit,f=t.XpG();return t.Njj(f.remove(u))}),t.j41(3,"mat-icon"),t.EFF(4,"star"),t.k0s()()(),t.j41(5,"div",23),t.bIt("click",function(){const u=t.eBV(r).$implicit,f=t.XpG();return t.Njj(f.selectTerm(u))}),t.j41(6,"button",24),t.EFF(7),t.k0s()()()}if(2&v){const r=c.$implicit;t.R7$(2),t.Y8G("color","accent"),t.R7$(5),t.SpI(" ",r," ")}}function S(v,c){if(1&v){const r=t.RV6();t.j41(0,"div",3)(1,"button",25),t.bIt("click",function(){t.eBV(r);const u=t.XpG();return t.Njj(u.deleteAll())}),t.EFF(2," Delete All "),t.k0s()()}}function R(v,c){if(1&v){const r=t.RV6();t.j41(0,"div",14)(1,"button",13),t.bIt("click",function(){t.eBV(r);const u=t.XpG();return t.Njj(u.selectAll())}),t.EFF(2," Select All "),t.k0s(),t.j41(3,"button",13),t.bIt("click",function(){t.eBV(r);const u=t.XpG();return t.Njj(u.deselectAll())}),t.EFF(4," Deselect "),t.k0s(),t.j41(5,"button",13),t.bIt("click",function(){t.eBV(r);const u=t.XpG();return t.Njj(u.addTag())}),t.EFF(6," Add tag to selected "),t.k0s()()}if(2&v){const r=t.XpG();t.R7$(),t.Y8G("disabled",!r.ankiRequestText),t.R7$(2),t.Y8G("disabled",!r.ankiRequestText),t.R7$(2),t.Y8G("disabled",!r.ankiRequestText)}}function b(v,c){if(1&v&&(t.j41(0,"div",30),t.EFF(1),t.k0s()),2&v){const r=t.XpG().$implicit;t.R7$(),t.SpI(" tags: ",null==r.tags?null:r.tags.join(" | ")," ")}}function D(v,c){if(1&v){const r=t.RV6();t.j41(0,"div",26),t.bIt("click",function(){const u=t.eBV(r).$implicit;return t.Njj(u.selected=!u.selected)}),t.j41(1,"div",27),t.EFF(2),t.k0s(),t.j41(3,"div",28),t.EFF(4),t.k0s(),t.j41(5,"div",29),t.EFF(6),t.k0s(),t.DNE(7,b,2,1,"div",30),t.k0s()}if(2&v){const r=c.$implicit;t.AVh("selected",r.selected),t.R7$(2),t.SEQ(" ",null==r.fields.term?null:r.fields.term.value," (",null==r.fields.pos?null:r.fields.pos.value,") ",null==r.fields.freq?null:r.fields.freq.value," ",null==r.fields.freq2?null:r.fields.freq2.value," [ ",r.modelName," ",null==r.fields.sensenum?null:r.fields.sensenum.value," ",null==r.fields.exampleId?null:r.fields.exampleId.value," ] "),t.R7$(2),t.SpI(" ",null==r.fields.exampleText?null:r.fields.exampleText.value," "),t.R7$(2),t.SpI(" ",null==r.fields.def?null:r.fields.def.value," "),t.R7$(),t.vxM(7,null!=r.tags&&r.tags.length?7:-1)}}let I=class P{constructor(c,r,l,u,f){this.favoriteWordsService=c,this.ankiConnectService=r,this.cdr=l,this.info=u,this.localStorageService=f,this.favoriteWordList=[],this.textForImport="",this.ankiHost=this.localStorageService.ankiHost,this.ankiDeck=this.localStorageService.ankiDeck,this.tag=localStorage.getItem(h.LH)||"selected",this.ankiRequestText=localStorage.getItem(h.Zt)||"flag:2",this.ankiResultList=[],this.resultNumber=0,this.maxAnkiResultNumber=h.Ot,this.searchQueue=[]}ngOnInit(){this.favoriteWordsService.getAll().pipe((0,k.s)(this)).subscribe(c=>{this.favoriteWordList=c||[],this.cdr.detectChanges()})}searchAll(){this.searchQueue=[...this.favoriteWordList],this.checkSearchQueue()}checkSearchQueue(c=""){c&&(this.searchQueue=this.searchQueue.filter(r=>r!==c)),0!==this.searchQueue.length&&this.selectTerm(this.searchQueue[0])}selectAll(){this.ankiResultList.forEach(c=>c.selected=!0),this.cdr.detectChanges()}deselectAll(){this.ankiResultList.forEach(c=>c.selected=!1),this.cdr.detectChanges()}selectTerm(c){let r="";this.ankiDeck&&(r+="deck:"+this.ankiDeck+" "),r+='term:"'+c+'"',this.ankiRequestText=r,this.request(r,c)}addTag(){if(!this.tag)return void this.info.error("Wrong tag");const c=this.ankiResultList.filter(r=>r.selected&&!r.tags?.includes(this.tag)).map(r=>r.noteId);c.length?(localStorage.setItem(h.LH,this.tag),this.ankiConnectService.addTagForNotes(c,this.tag)):this.info.error("Nothing to add!")}request(c=this.ankiRequestText,r){c&&(localStorage.setItem(h.Zt,this.ankiRequestText),this.ankiConnectService.findNotes(c).pipe((0,s.s)(1)).subscribe(l=>{0===this.searchQueue.length?(this.resultNumber=l.length,this.ankiResultList=l.slice(0,h.Ot)):(this.resultNumber+=l.length,this.ankiResultList.push(...l.slice(0,h.Ot))),this.checkSearchQueue(r),this.cdr.detectChanges()}))}importText(){const c=this.textForImport.split("\n").map(r=>r.trim()).filter(r=>!this.favoriteWordList.includes(r));this.favoriteWordsService.importWords(c).pipe((0,s.s)(1)).subscribe(),this.textForImport="",this.favoriteWordList=[...this.favoriteWordList,...c],this.cdr.detectChanges()}remove(c){this.favoriteWordsService.remove(c),this.favoriteWordList=this.favoriteWordList.filter(r=>r!==c),this.ankiResultList=[],this.resultNumber=0,this.cdr.detectChanges()}deleteAll(){this.favoriteWordsService.deleteAll(),this.favoriteWordList=[],this.ankiResultList=[],this.resultNumber=0,this.cdr.detectChanges()}static{this.\u0275fac=function(r){return new(r||P)(t.rXU(d.b),t.rXU(i.b),t.rXU(t.gRc),t.rXU(a.O),t.rXU(g.s))}}static{this.\u0275cmp=t.VBU({type:P,selectors:[["app-favorite-word-page"]],standalone:!0,features:[t.aNF],decls:36,vars:10,consts:[[1,"top-block"],[1,"favorite-word-list"],["mat-button","","color","primary","routerLink","/"],[1,"remove-button"],[1,"favorite-word-list-item"],[1,"anki-connect-block"],[1,"settings"],[1,"anki-result-sum"],["appearance","outline"],["matInput","",1,"flag-input",3,"ngModelChange","ngModel"],[1,"anki-request"],["appearance","outline",1,"request-mat-form-field"],["matInput","",1,"flag-input",3,"keydown.enter","ngModelChange","ngModel"],["mat-button","","color","primary",3,"click","disabled"],[1,"buttons"],[1,"result-items"],[1,"result-item",3,"selected"],[1,"import-block"],["appearance","outline",1,"description"],["matInput","",1,"import-text-area",3,"ngModelChange","ngModel"],["mat-button","","color","primary",1,"term-button",3,"click"],[1,"star"],["mat-icon-button","",1,"favorite-word-button",3,"click","color"],[1,"term",3,"click"],["mat-button","","color","primary",1,"term-button"],["mat-button","","color","warn",1,"term-button",3,"click"],[1,"result-item",3,"click"],[1,"top"],[1,"example"],[1,"def"],[1,"tags"]],template:function(r,l){1&r&&(t.j41(0,"div",0)(1,"div",1)(2,"button",2),t.EFF(3," Home "),t.k0s(),t.DNE(4,O,3,0,"div",3),t.Z7z(5,E,8,2,"div",4,t.fX1),t.DNE(7,S,3,0,"div",3),t.k0s(),t.j41(8,"div",5)(9,"div",6)(10,"div",7),t.EFF(11),t.k0s(),t.j41(12,"mat-form-field",8)(13,"mat-label"),t.EFF(14,"Anki tag to add"),t.k0s(),t.j41(15,"input",9),t.mxI("ngModelChange",function(f){return t.DH7(l.tag,f)||(l.tag=f),f}),t.k0s()()(),t.j41(16,"div",10)(17,"mat-form-field",11)(18,"mat-label"),t.EFF(19,"Anki request text"),t.k0s(),t.j41(20,"input",12),t.bIt("keydown.enter",function(){return l.request()}),t.mxI("ngModelChange",function(f){return t.DH7(l.ankiRequestText,f)||(l.ankiRequestText=f),f}),t.k0s()(),t.j41(21,"button",13),t.bIt("click",function(){return l.request()}),t.EFF(22,"Go! "),t.k0s()(),t.DNE(23,R,7,3,"div",14),t.j41(24,"div",15),t.Z7z(25,D,8,12,"div",16,t.fX1),t.k0s()()(),t.j41(27,"h2"),t.EFF(28,"Import"),t.k0s(),t.j41(29,"div",17)(30,"mat-form-field",18)(31,"mat-label"),t.EFF(32,"Words to import"),t.k0s(),t.j41(33,"textarea",19),t.mxI("ngModelChange",function(f){return t.DH7(l.textForImport,f)||(l.textForImport=f),f}),t.k0s()(),t.j41(34,"button",13),t.bIt("click",function(){return l.importText()}),t.EFF(35,"Import "),t.k0s()()),2&r&&(t.R7$(4),t.vxM(4,l.favoriteWordList.length&&l.favoriteWordList.length>1?4:-1),t.R7$(),t.Dyx(l.favoriteWordList),t.R7$(2),t.vxM(7,l.favoriteWordList.length&&l.favoriteWordList.length>1?7:-1),t.R7$(4),t.Lme(" Anki-connect, resultNumber: ",l.resultNumber,", max: ",l.maxAnkiResultNumber," "),t.R7$(4),t.R50("ngModel",l.tag),t.R7$(5),t.R50("ngModel",l.ankiRequestText),t.R7$(),t.Y8G("disabled",!l.ankiRequestText),t.R7$(2),t.vxM(23,null!=l.ankiResultList&&l.ankiResultList.length?23:-1),t.R7$(2),t.Dyx(l.ankiResultList),t.R7$(8),t.R50("ngModel",l.textForImport),t.R7$(),t.Y8G("disabled",!l.textForImport))},dependencies:[p.Hl,p.$z,p.iY,_.m_,_.An,M.RG,M.rl,M.nJ,m.YN,m.me,m.BC,m.vS,y.fS,y.fg,e.Wk],styles:["[_nghost-%COMP%]{display:block;padding:24px}.top-block[_ngcontent-%COMP%]{display:flex;gap:8px}.anki-connect-block[_ngcontent-%COMP%]{flex:1}.anki-connect-block[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:start;gap:8px}.anki-connect-block[_ngcontent-%COMP%]   .anki-request[_ngcontent-%COMP%]{width:100%;display:flex;gap:8px}.anki-connect-block[_ngcontent-%COMP%]   .anki-request[_ngcontent-%COMP%]   .request-mat-form-field[_ngcontent-%COMP%]{flex:1}.anki-connect-block[_ngcontent-%COMP%]   .anki-result-sum[_ngcontent-%COMP%]{color:#00f}.anki-connect-block[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.anki-connect-block[_ngcontent-%COMP%]   .result-items[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]{border:1px solid lightgray;margin:16px 0;padding:4px 8px;cursor:pointer}.anki-connect-block[_ngcontent-%COMP%]   .result-items[_ngcontent-%COMP%]   .result-item.selected[_ngcontent-%COMP%]{border:1px solid green}.anki-connect-block[_ngcontent-%COMP%]   .result-items[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{color:gray}.anki-connect-block[_ngcontent-%COMP%]   .result-items[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]{margin:8px 0}.anki-connect-block[_ngcontent-%COMP%]   .result-items[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .def[_ngcontent-%COMP%]{color:gray}.anki-connect-block[_ngcontent-%COMP%]   .result-items[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{color:green}.favorite-word-list[_ngcontent-%COMP%]   .favorite-word-list-item[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.favorite-word-list[_ngcontent-%COMP%]   .term-button[_ngcontent-%COMP%]{justify-content:start;max-width:200px;min-width:100px;overflow:clip}.import-block[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 100px}.import-block[_ngcontent-%COMP%]   .import-text-area[_ngcontent-%COMP%]{height:400px}"]})}};I=(0,o.Cg)([(0,k.d)()],I)},280:(T,C,n)=>{n.d(C,{b:()=>e});var o=n(4412),k=n(5558),p=n(6354),_=n(6697),M=n(7673),m=n(9040),y=n(4438),s=n(9456),h=n(3609);let e=(()=>{class t{constructor(i,a){this.dbService=i,this.dictionaryService=a,this.check$=new o.t(null),this.dictionaryService.currentDictionaryState$.pipe((0,k.n)(g=>this.getWordFromDB(g?.currentDictionaryTerm?.term||""))).subscribe(g=>{this.check$.next(g)})}importWords(i){return this.dbService.bulkAdd(m.Y.FavoriteWords,i.map(a=>({term:a,v:1})))}getAll(){return this.dbService.getAll(m.Y.FavoriteWords).pipe((0,p.T)(i=>i.map(a=>a.term)),(0,_.s)(1))}switchCurrent(){const i=this.check$.value,a=i?.term,g=i?.status;a&&(g?this.remove(a):this.add(a),this.check$.next({term:a,status:!g}))}add(i){this.dbService.add(m.Y.FavoriteWords,{term:i,v:"1"}).pipe((0,_.s)(1)).subscribe()}remove(i){this.dbService.delete(m.Y.FavoriteWords,i).pipe((0,_.s)(1)).subscribe()}deleteAll(){this.dbService.clear(m.Y.FavoriteWords).pipe((0,_.s)(1)).subscribe()}getWordFromDB(i){return i?this.dbService.getByID(m.Y.FavoriteWords,i).pipe((0,p.T)(a=>({term:i,status:!!a}))):(0,M.of)({term:"",status:!1})}static{this.\u0275fac=function(a){return new(a||t)(y.KVO(s.MX),y.KVO(h.K))}}static{this.\u0275prov=y.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})()},1502:(T,C,n)=>{n.d(C,{s:()=>y});var o=function(s){return s.CurrentPopupMenuTab="CurrentPopupMenuTab",s.CopyToClipboard="CopyToClipboard",s.UseExternalId="UseExternalId",s.ShowDictionary="ShowDictionary",s.HideMarkedHeaders="HideMarkedHeaders",s.ShowTranslationInBook="ShowTranslationInBook",s.AutoTranslateSelected="AutoTranslateSelected",s.ShowTranslatorInDictionaryViewer="ShowTranslatorInDictionaryViewer",s.AudioVoiceURI="AudioVoiceURI",s.AudioVolume="AudioVolume",s.AudioRate="AudioRate",s.AnkiDeck="AnkiDeck",s.AnkiHost="AnkiHost",s.SyncServerUrl="SyncServerUrl",s.SyncServerIsOn="SyncServerIsOn",s.SyncServerInterval="SyncServerInterval",s.SyncUserKey="SyncUserKey",s}(o||{}),k=n(1177),m=n(4438);let y=(()=>{class s{get syncServerIsOn(){return this.getBoolean(o.SyncServerIsOn,!1)}set syncServerIsOn(e){this.setBoolean(o.SyncServerIsOn,e)}get syncServerUrl(){return localStorage.getItem(o.SyncServerUrl)||"http://main-pc:3003"}set syncServerUrl(e){localStorage.setItem(o.SyncServerUrl,e||"")}get syncUserKey(){return localStorage.getItem(o.SyncUserKey)||"test-user-key"}set syncUserKey(e){localStorage.setItem(o.SyncUserKey,e||"")}get syncServerInterval(){return this.getNumber(o.SyncServerInterval,5)}set syncServerInterval(e){this.setNumber(o.SyncServerInterval,0===e?0:e||5)}get ankiHost(){return localStorage.getItem(o.AnkiHost)||k.jk}set ankiHost(e){localStorage.setItem(o.AnkiHost,e||"")}get ankiDeck(){return localStorage.getItem(o.AnkiDeck)||""}set ankiDeck(e){localStorage.setItem(o.AnkiDeck,e||"")}get audioVoiceURI(){return localStorage.getItem(o.AudioVoiceURI)||""}set audioVoiceURI(e){localStorage.setItem(o.AudioVoiceURI,e||"")}get audioVolume(){return this.getNumber(o.AudioVolume,1)}set audioVolume(e){this.setNumber(o.AudioVolume,0===e?0:e||1)}get audioRate(){return this.getNumber(o.AudioRate,1)}set audioRate(e){this.setNumber(o.AudioRate,0===e?0:e||1)}get hideMarkedHeaders(){return this.getBoolean(o.HideMarkedHeaders,!1)}set hideMarkedHeaders(e){this.setBoolean(o.HideMarkedHeaders,e)}get copyToClipboard(){return this.getBoolean(o.CopyToClipboard,!1)}set copyToClipboard(e){this.setBoolean(o.CopyToClipboard,e)}get useExternalId(){return this.getBoolean(o.UseExternalId,!1)}set useExternalId(e){this.setBoolean(o.UseExternalId,e)}get showDictionary(){return this.getBoolean(o.ShowDictionary,!0)}set showDictionary(e){this.setBoolean(o.ShowDictionary,e)}get showTranslationInBook(){return this.getBoolean(o.ShowTranslationInBook,!0)}set showTranslationInBook(e){this.setBoolean(o.ShowTranslationInBook,e)}get currentPopupMenuTab(){return this.getNumber(o.CurrentPopupMenuTab)}set currentPopupMenuTab(e){this.setNumber(o.CurrentPopupMenuTab,e||0)}constructor(){this.trueString="true",this.falseString="false"}getString(e,t=""){return localStorage.getItem(e)||t}setString(e,t){localStorage.setItem(e,t)}setNumber(e,t){localStorage.setItem(e,String(t||0))}getNumber(e,t=0){const d=localStorage.getItem(e);if(null===d)return t;const i=+d;return Number.isNaN(i)?t:i}setBoolean(e,t){localStorage.setItem(e,t?this.trueString:this.falseString)}getBoolean(e,t=!1){const d=localStorage.getItem(e);return d===this.trueString||d!==this.falseString&&t}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275prov=m.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})()}}]);