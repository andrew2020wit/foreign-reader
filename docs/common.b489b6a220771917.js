"use strict";(self.webpackChunkforeign_reader=self.webpackChunkforeign_reader||[]).push([[592],{2945:(b,u,s)=>{s.d(u,{KM:()=>n,N3:()=>d,s7:()=>t,wf:()=>l});const t="http://127.0.0.1:8765",n=500,l="ankiTag",d="ankiRequestText"},8805:(b,u,s)=>{s.d(u,{N:()=>o});var t=s(5619);const n=[{label:"Font size original text (26px)",cssVariable:"--font-size-original-text"},{label:"Font size translation text (24px)",cssVariable:"--font-size-translation-text"},{label:"dictionary-main-font-size",cssVariable:"--dictionary-main-font-size"},{label:"dictionary-header-font-size",cssVariable:"--dictionary-header-font-size"},{label:"Main background color",cssVariable:"--background-color-main"},{label:'background-image, like: url(https://andrew2020wit.github.io/foreign-reader/assets/background/fancy-deboss.png) or "none"',cssVariable:"--book-background-image"},{label:"Accent background color (header)",cssVariable:"--background-color-accent"},{label:"Main font color (original text)",cssVariable:"--font-color-main"},{label:"Translation font color",cssVariable:"--font-color-translation"},{label:"Accent font color (header)",cssVariable:"--font-color-accent"},{label:"Color primary",cssVariable:"--color-primary"},{label:"Color accent",cssVariable:"--color-accent"},{label:"Color warn",cssVariable:"--color-warn"},{label:"Dictionary width",cssVariable:"--dictionary-width"},{label:"--max-book-width",cssVariable:"--max-book-width"},{label:'Font family ("Segoe UI", roboto, verdana, sans-serif)',cssVariable:"--font-family"}];var l=s(5879),d=s(2969);let o=(()=>{class i{constructor(r){this.localStorageService=r,this.customStyles$=new t.X([]);const a=[];n.forEach(c=>{a.push({...c,value:this.localStorageService.getString(c.cssVariable)})}),this.customStyles$.next(a)}setStyle(r,a){this.localStorageService.setString(r,a);const c=this.customStyles$.value,g=c.find(h=>h.cssVariable===r);g&&(g.value=a,this.customStyles$.next([...c]))}resetAllStyles(){const r=[];n.forEach(a=>{r.push({...a,value:""}),this.localStorageService.setString(a.cssVariable,"")}),this.customStyles$.next(r)}}return i.\u0275fac=function(r){return new(r||i)(l.LFG(d.n))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},2969:(b,u,s)=>{s.d(u,{n:()=>d});var t=function(o){return o.CurrentPopupMenuTab="CurrentPopupMenuTab",o.CopyToClipboard="CopyToClipboard",o.ShowDictionary="ShowDictionary",o.HideMarkedHeaders="HideMarkedHeaders",o.ShowTranslationInBook="ShowTranslationInBook",o.AutoTranslateSelected="AutoTranslateSelected",o.ShowTranslatorInDictionaryViewer="ShowTranslatorInDictionaryViewer",o.AudioVoiceURI="AudioVoiceURI",o.AudioVolume="AudioVolume",o.AudioRate="AudioRate",o.AnkiDeck="AnkiDeck",o.AnkiHost="AnkiHost",o}(t||{}),n=s(2945),l=s(5879);let d=(()=>{class o{get ankiHost(){return localStorage.getItem(t.AnkiHost)||n.s7}set ankiHost(e){localStorage.setItem(t.AnkiHost,e||"")}get ankiDeck(){return localStorage.getItem(t.AnkiDeck)||""}set ankiDeck(e){localStorage.setItem(t.AnkiDeck,e||"")}get audioVoiceURI(){return localStorage.getItem(t.AudioVoiceURI)||""}set audioVoiceURI(e){localStorage.setItem(t.AudioVoiceURI,e||"")}get audioVolume(){return this.getNumber(t.AudioVolume,1)}set audioVolume(e){this.setNumber(t.AudioVolume,0===e?0:e||1)}get audioRate(){return this.getNumber(t.AudioRate,1)}set audioRate(e){this.setNumber(t.AudioRate,0===e?0:e||1)}get hideMarkedHeaders(){return this.getBoolean(t.HideMarkedHeaders,!1)}set hideMarkedHeaders(e){this.setBoolean(t.HideMarkedHeaders,e)}get copyToClipboard(){return this.getBoolean(t.CopyToClipboard,!1)}set copyToClipboard(e){this.setBoolean(t.CopyToClipboard,e)}get showDictionary(){return this.getBoolean(t.ShowDictionary,!0)}set showDictionary(e){this.setBoolean(t.ShowDictionary,e)}get showTranslationInBook(){return this.getBoolean(t.ShowTranslationInBook,!0)}set showTranslationInBook(e){this.setBoolean(t.ShowTranslationInBook,e)}get currentPopupMenuTab(){return this.getNumber(t.CurrentPopupMenuTab)}set currentPopupMenuTab(e){this.setNumber(t.CurrentPopupMenuTab,e||0)}constructor(){this.trueString="true",this.falseString="false"}getString(e,r=""){return localStorage.getItem(e)||r}setString(e,r){localStorage.setItem(e,r)}setNumber(e,r){localStorage.setItem(e,String(r||0))}getNumber(e,r=0){const a=localStorage.getItem(e);if(null===a)return r;const c=+a;return Number.isNaN(c)?r:c}setBoolean(e,r){localStorage.setItem(e,r?this.trueString:this.falseString)}getBoolean(e,r=!1){const a=localStorage.getItem(e);return a===this.trueString||a!==this.falseString&&r}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=l.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},8863:(b,u,s)=>{function t(n,l){const o=document.createElement("a"),i=new Blob([n],{type:"text/plain"});o.href=URL.createObjectURL(i),o.download=l,o.click(),o.remove()}s.d(u,{l:()=>t})}}]);