"use strict";(self.webpackChunkforeign_reader=self.webpackChunkforeign_reader||[]).push([[854],{854:(T,a,e)=>{e.r(a),e.d(a,{EditBookHeaderComponent:()=>v});var o=e(6223),l=e(4408),u=e(6814),s=e(2296),d=e(2032),t=e(5879),p=e(463),f=e(1839),_=e(9157);const E=function(){return["/"]};let v=(()=>{class i{constructor(r,n,c){this.bookService=r,this.loaderService=n,this.router=c,this.form=new o.cw({title:new o.NI("",[o.kI.required]),description:new o.NI("")})}ngOnInit(){this.form.controls.title.setValue(this.dbTitle.title),this.form.controls.description.setValue(this.dbTitle.description)}save(){this.form.controls.title.value&&(this.dbTitle.title=this.form.controls.title.value,this.dbTitle.description=this.form.controls.description.value||"",this.dbTitle.lastOpenedTime=Date.now(),this.loaderService.start(),this.bookService.updateTitle$(this.dbTitle).subscribe(()=>{this.loaderService.stop(),this.router.navigate(["/"]).then()}))}}return i.\u0275fac=function(r){return new(r||i)(t.Y36(p.Z),t.Y36(f.D),t.Y36(l.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-edit-book-header"]],inputs:{dbTitle:"dbTitle"},standalone:!0,features:[t.jDz],decls:16,vars:6,consts:[[1,"component"],[1,"form",3,"formGroup"],["appearance","outline",1,"title"],["matInput","",3,"formControl"],["appearance","outline",1,"description"],[1,"buttons"],["mat-button","","color","primary",3,"routerLink"],["mat-button","","color","primary",3,"disabled","click"]],template:function(r,n){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),t._uU(4,"Title"),t.qZA(),t._UZ(5,"input",3),t.qZA(),t.TgZ(6,"mat-form-field",4)(7,"mat-label"),t._uU(8,"Description"),t.qZA(),t.TgZ(9,"textarea",3),t._uU(10," "),t.qZA()()(),t.TgZ(11,"div",5)(12,"button",6),t._uU(13," Cancel"),t.qZA(),t.TgZ(14,"button",7),t.NdJ("click",function(){return n.save()}),t._uU(15," Save"),t.qZA()()()),2&r&&(t.xp6(1),t.Q6J("formGroup",n.form),t.xp6(4),t.Q6J("formControl",n.form.controls.title),t.xp6(4),t.Q6J("formControl",n.form.controls.description),t.xp6(3),t.Q6J("routerLink",t.DdM(5,E)),t.xp6(2),t.Q6J("disabled",n.form.invalid))},dependencies:[u.ez,o.u5,o.Fj,o.JJ,o.JL,d.c,d.Nt,_.KE,_.hX,o.UX,o.oH,o.sg,s.ot,s.lW,l.rH],styles:[".component[_ngcontent-%COMP%]{padding:var(--padding-main);padding-top:var(--padding-xlarge)}.component[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),i})()}}]);