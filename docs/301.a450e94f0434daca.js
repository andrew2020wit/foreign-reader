"use strict";(self.webpackChunkforeign_reader=self.webpackChunkforeign_reader||[]).push([[301],{9301:(I,d,a)=>{a.r(d),a.d(d,{FavoriteExamplesComponent:()=>m});var l,u=a(7582),p=a(6814),g=a(2296),v=a(2058),C=a(5986),f=a(6223),_=a(1791),x=a(2596),T=a(4010),y=a(8299),t=a(5879),M=a(3631),h=a(8805);const O=["componentContent"];function E(o,e){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.hij(" / ",n.allExamplesNumber," ")}}function P(o,e){if(1&o&&(t.TgZ(0,"span",24),t._uU(1),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.level)}}function D(o,e){if(1&o&&(t.TgZ(0,"div",32),t._uU(1),t.qZA()),2&o){const n=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",n.transcription," ")}}function Z(o,e){if(1&o&&(t.TgZ(0,"div",33),t._uU(1),t.qZA()),2&o){const n=t.oxw(2).$implicit;t.xp6(1),t.hij(" Synonym: ",n.synonym," ")}}function k(o,e){if(1&o&&(t.TgZ(0,"div",34),t._uU(1),t.qZA()),2&o){const n=t.oxw(2).$implicit;t.xp6(1),t.hij(" Antonym: ",n.antonym," ")}}function b(o,e){if(1&o&&(t.TgZ(0,"div",35),t._uU(1),t.qZA()),2&o){const n=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",n.translation," ")}}function w(o,e){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const n=t.oxw(2).$implicit;t.xp6(1),t.hij("U: ",t.xi3(2,1,n.updateTimestamp,"dd.MM.yyyy"),";")}}function A(o,e){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const n=t.oxw(2).$implicit;t.xp6(1),t.hij("ToDo: ",t.xi3(2,1,n.toDoTimestamp,"dd.MM.yyyy"),"")}}function U(o,e){if(1&o&&(t.TgZ(0,"div",25),t.YNc(1,D,2,1,"div",26),t.TgZ(2,"div",27),t._uU(3),t.qZA(),t.YNc(4,Z,2,1,"div",28),t.YNc(5,k,2,1,"div",29),t.YNc(6,b,2,1,"div",30),t.TgZ(7,"div",31)(8,"span"),t._uU(9),t.ALo(10,"date"),t.qZA(),t.YNc(11,w,3,4,"span",6),t.YNc(12,A,3,4,"span",6),t.qZA()()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",n.transcription),t.xp6(2),t.hij(" ",n.definition," "),t.xp6(1),t.Q6J("ngIf",n.synonym),t.xp6(1),t.Q6J("ngIf",n.antonym),t.xp6(1),t.Q6J("ngIf",n.translation),t.xp6(3),t.hij(" C: ",t.xi3(10,8,n.timestamp,"dd.MM.yyyy"),"; "),t.xp6(2),t.Q6J("ngIf",n.updateTimestamp),t.xp6(1),t.Q6J("ngIf",n.toDoTimestamp)}}function F(o,e){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",10)(2,"div",11)(3,"span",12),t._uU(4),t.qZA(),t.TgZ(5,"button",13),t.NdJ("click",function(){const s=t.CHM(n).$implicit,c=t.oxw();return t.KtG(c.favoriteExamplesService.removeExample(s.timestamp||0))}),t._uU(6," Del "),t.qZA(),t.TgZ(7,"button",14),t.NdJ("click",function(){const s=t.CHM(n).$implicit,c=t.oxw();return t.KtG(c.setToDo(s,1))}),t._uU(8," 1 "),t.qZA(),t.TgZ(9,"button",15),t.NdJ("click",function(){const s=t.CHM(n).$implicit,c=t.oxw();return t.KtG(c.setToDo(s,3))}),t._uU(10," 3 "),t.qZA(),t.TgZ(11,"button",16),t.NdJ("click",function(){const s=t.CHM(n).$implicit,c=t.oxw();return t.KtG(c.setToDo(s,7))}),t._uU(12," 7 "),t.qZA(),t.TgZ(13,"button",17),t.NdJ("click",function(){const s=t.CHM(n).$implicit,c=t.oxw();return t.KtG(c.setToDo(s,30))}),t._uU(14," 30 "),t.qZA(),t.TgZ(15,"span",18),t._uU(16),t.qZA(),t.TgZ(17,"span",19),t._uU(18),t.qZA()(),t.TgZ(19,"div",20),t.NdJ("click",function(){const s=t.CHM(n).$implicit;return t.KtG(s.showDetails=!0)}),t.YNc(20,P,2,1,"span",21),t.TgZ(21,"span",22),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.clickOnWord())}),t._uU(22),t.qZA()(),t.YNc(23,U,13,11,"div",23),t.qZA(),t.BQk()}if(2&o){const n=e.$implicit,i=t.oxw();t.xp6(1),t.ekj("old",i.dayFromUpdate(n)>25)("recent",i.dayFromUpdate(n)<3),t.xp6(2),t.Q6J("matTooltip","dayFromCreate/Update"),t.xp6(1),t.AsE(" [ ",i.dayFromCreate(n)," : ",i.dayFromUpdate(n),"] "),t.xp6(12),t.Oqu(n.partOfSpeech),t.xp6(2),t.Oqu(n.term),t.xp6(2),t.Q6J("ngIf",n.level),t.xp6(2),t.hij(" ",n.original," "),t.xp6(1),t.Q6J("ngIf",n.showDetails)}}let m=((l=class{constructor(e,n,i){this.favoriteExamplesService=e,this.cd=n,this.customStylesService=i,this.dayTime=864e5,this.examples=[],this.allExamplesNumber=0,this.currentTerm=""}ngOnInit(){this.favoriteExamplesService.examples$.pipe((0,_.t)(this)).subscribe(e=>{this.allExamplesNumber=e?.length||0,this.takeCurrentExamples(e)})}ngAfterViewInit(){this.subscribeToCustomStylesService(),this.subscribeToKeyBord()}clickOnWord(){this.currentTerm=(0,y.R)()}subscribeToCustomStylesService(){this.customStylesService.customStyles$.pipe((0,_.t)(this)).subscribe(e=>{e.forEach(n=>{this.componentContent.nativeElement.style.setProperty(n.cssVariable,n.value)}),this.cd.detectChanges()})}subscribeToKeyBord(){document.onkeydown=e=>{const n=e?.key,i=this.examples[0];switch(n){case"d":this.favoriteExamplesService.removeExample(i.timestamp||0);break;case" ":i.showDetails=!i.showDetails,this.cd.detectChanges();break;case"w":this.setToDo(i,7);break;case"q":this.setToDo(i,30);break;case"s":this.setToDo(i,3);break;case"a":this.setToDo(i,1)}}}trackBy(e,n){return n.timestamp}setToDo(e,n){e.toDoTimestamp=Date.now()+n*this.dayTime,this.favoriteExamplesService.update(e)}dayFromUpdate(e){return e.timestamp?Math.round((Date.now()-(e.updateTimestamp||e.timestamp))/this.dayTime):0}dayFromCreate(e){return e.timestamp?Math.round((Date.now()-e.timestamp)/this.dayTime):0}exampleIsToDo(e){return!e.toDoTimestamp||e.toDoTimestamp<Date.now()+432e5}takeCurrentExamples(e){this.examples=e.filter(n=>this.exampleIsToDo(n)).sort((n,i)=>this.dayFromUpdate(i)-this.dayFromUpdate(n)).slice(0,20)}}).\u0275fac=function(e){return new(e||l)(t.Y36(M.j),t.Y36(t.sBO),t.Y36(h.N))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-favorite-examples"]],viewQuery:function(e,n){if(1&e&&t.Gf(O,5),2&e){let i;t.iGM(i=t.CRH())&&(n.componentContent=i.first)}},standalone:!0,features:[t.jDz],decls:12,vars:5,consts:[[1,"component-content",3,"keydown.space","keyup.space"],["componentContent",""],[1,"list"],[1,"header"],["mat-button","","color","primary","routerLink","/"],[1,"example-number"],[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"dictionary"],[3,"term"],[1,"example"],[1,"example-header"],[1,"day-from-update",3,"matTooltip"],["mat-button","","color","warn","matTooltip","d",3,"click"],["mat-button","","color","primary","matTooltip","a",3,"click"],["mat-button","","color","primary","matTooltip","s",3,"click"],["mat-button","","color","primary","matTooltip","w",3,"click"],["mat-button","","color","primary","matTooltip","q",3,"click"],[1,"pos"],[1,"term"],[1,"original",3,"click"],["class","level",4,"ngIf"],[1,"example-text",3,"click"],["class","description",4,"ngIf"],[1,"level"],[1,"description"],["class","transcription",4,"ngIf"],[1,"definition"],["class","synonym",4,"ngIf"],["class","antonym",4,"ngIf"],["class","translation",4,"ngIf"],[1,"dates"],[1,"transcription"],[1,"synonym"],[1,"antonym"],[1,"translation"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0,1),t.NdJ("keydown.space",function(r){return r.preventDefault(),r.stopPropagation()})("keyup.space",function(r){return r.preventDefault(),r.stopPropagation()}),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t._uU(5,"Go Home"),t.qZA(),t.TgZ(6,"span",5),t._uU(7),t.qZA(),t.YNc(8,E,2,1,"span",6),t.qZA(),t.YNc(9,F,24,12,"ng-container",7),t.qZA(),t.TgZ(10,"div",8),t._UZ(11,"app-dictionary-widget",9),t.qZA()()),2&e&&(t.xp6(7),t.hij(" ",n.examples.length||0," "),t.xp6(1),t.Q6J("ngIf",n.allExamplesNumber!==n.examples.length),t.xp6(1),t.Q6J("ngForOf",n.examples)("ngForTrackBy",n.trackBy),t.xp6(2),t.Q6J("term",n.currentTerm))},dependencies:[p.ez,p.sg,p.O5,p.uU,g.ot,g.lW,v.rH,C.p9,f.u5,x.AV,x.gM,T.V],styles:[".component-content[_ngcontent-%COMP%]{display:flex;gap:var(--padding-small);justify-content:end;padding:0;width:100vw;max-width:100vw;height:calc(100vh - 4px);max-height:calc(100vh - 4px);overflow:auto;box-sizing:border-box;background:var(--background-color-main);background-image:var(--book-background-image);background-repeat:repeat;font-family:var(--font-family);color:var(--font-color-main)}.list[_ngcontent-%COMP%]{padding:var(--padding-main);max-width:var(--max-book-width);width:var(--max-book-width);max-height:calc(100vh - 10px);overflow:hidden;box-sizing:border-box}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]{padding:var(--padding-small);outline:1px solid gray;margin:var(--padding-small)}.list[_ngcontent-%COMP%]   .example.old[_ngcontent-%COMP%]{outline:1px solid red}.list[_ngcontent-%COMP%]   .example.recent[_ngcontent-%COMP%]{outline:1px solid green}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .example-header[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;gap:var(--padding-main)}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .example-header[_ngcontent-%COMP%]   .pos[_ngcontent-%COMP%]{color:var(--font-color-translation)}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .example-header[_ngcontent-%COMP%]   .term[_ngcontent-%COMP%]{font-weight:700}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .original[_ngcontent-%COMP%]{cursor:pointer;margin-top:var(--padding-small);font-size:var(--font-size-original-text)}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .original[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{color:green;font-weight:700;background-color:wheat;padding:2px}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:var(--font-size-translation-text);padding-left:var(--padding-main)}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:var(--padding-small) 0}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%], .list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .synonym[_ngcontent-%COMP%]{color:var(--font-color-translation)}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .antonym[_ngcontent-%COMP%]{color:red}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .dates[_ngcontent-%COMP%]{display:flex;gap:var(--padding-small);font-size:12px}.dictionary[_ngcontent-%COMP%]{overflow:auto;width:var(--dictionary-width)}@media (max-width: 1000px){.dictionary[_ngcontent-%COMP%]{display:none}}"]}),l);m=(0,u.gn)([(0,_.c)()],m)}}]);