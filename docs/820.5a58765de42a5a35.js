"use strict";(self.webpackChunkforeign_reader=self.webpackChunkforeign_reader||[]).push([[820],{2820:(v,E,a)=>{a.r(E),a.d(E,{CreateExampleComponent:()=>i});var f=a(1635),s=a(9417),h=a(882),d=a(9631),g=a(8834),u=a(9213),C=a(5256),c=a(4710),_=a(2765),x=a(3650),e=a(4438),o=a(7251);let i=class M{constructor(r,p,n,m){this.cdr=r,this.favoriteExamplesService=p,this.activatedRoute=n,this.router=m,this.original="",this.definition="",this.translation="",this.transcription="",this.partOfSpeech="",this.term="",this.synonym="",this.goToExamples=!0}ngOnInit(){const r=this.activatedRoute.snapshot.queryParams.add;r&&(this.original=r,this.cdr.detectChanges())}addExample(){this.original&&(this.favoriteExamplesService.addExample({definition:this.definition,original:this.original,translation:this.translation,synonym:this.synonym,antonym:"",level:"",partOfSpeech:this.partOfSpeech,term:this.term,transcription:this.transcription}),this.goToExamples&&setTimeout(()=>{this.router.navigate(["/",x.Q.FavoriteExamples]).then()},300))}static{this.\u0275fac=function(p){return new(p||M)(e.rXU(e.gRc),e.rXU(o.f),e.rXU(c.nX),e.rXU(c.Ix))}}static{this.\u0275cmp=e.VBU({type:M,selectors:[["app-create-example"]],standalone:!0,features:[e.aNF],decls:46,vars:11,consts:[[1,"component-content"],[1,"main"],[1,"add-new"],["mat-button","","color","primary",3,"routerLink"],["mat-button","","color","primary",3,"click","disabled"],["color","primary",1,"hide-marked-headers-checkbox",3,"ngModelChange","ngModel"],[1,"text-area"],["matInput","","required","",3,"ngModelChange","ngModel"],[1,"definition","add-new"],["matInput","",3,"ngModelChange","ngModel"],[1,"translation","add-new"],[1,"transcription","add-new"],[1,"term","add-new"],[1,"pos","add-new"],[1,"synonym","add-new"]],template:function(p,n){1&p&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.EFF(4," Home "),e.k0s(),e.j41(5,"button",3),e.EFF(6," Examples "),e.k0s(),e.j41(7,"button",4),e.bIt("click",function(){return n.addExample()}),e.EFF(8," Add "),e.k0s(),e.j41(9,"mat-checkbox",5),e.mxI("ngModelChange",function(t){return e.DH7(n.goToExamples,t)||(n.goToExamples=t),t}),e.EFF(10,"goToExamples "),e.k0s()(),e.j41(11,"div",2)(12,"mat-form-field",6)(13,"mat-label"),e.EFF(14," Text"),e.k0s(),e.j41(15,"textarea",7),e.mxI("ngModelChange",function(t){return e.DH7(n.original,t)||(n.original=t),t}),e.k0s()()(),e.j41(16,"div",8)(17,"mat-form-field",6)(18,"mat-label"),e.EFF(19," Definition"),e.k0s(),e.j41(20,"textarea",9),e.mxI("ngModelChange",function(t){return e.DH7(n.definition,t)||(n.definition=t),t}),e.k0s()()(),e.j41(21,"div",10)(22,"mat-form-field",6)(23,"mat-label"),e.EFF(24," Translation"),e.k0s(),e.j41(25,"textarea",9),e.mxI("ngModelChange",function(t){return e.DH7(n.translation,t)||(n.translation=t),t}),e.k0s()()(),e.j41(26,"div",11)(27,"mat-form-field",6)(28,"mat-label"),e.EFF(29," Transcription"),e.k0s(),e.j41(30,"input",9),e.mxI("ngModelChange",function(t){return e.DH7(n.transcription,t)||(n.transcription=t),t}),e.k0s()()(),e.j41(31,"div",12)(32,"mat-form-field",6)(33,"mat-label"),e.EFF(34," Term"),e.k0s(),e.j41(35,"input",9),e.mxI("ngModelChange",function(t){return e.DH7(n.term,t)||(n.term=t),t}),e.k0s()()(),e.j41(36,"div",13)(37,"mat-form-field",6)(38,"mat-label"),e.EFF(39," Part Of Speech"),e.k0s(),e.j41(40,"input",9),e.mxI("ngModelChange",function(t){return e.DH7(n.partOfSpeech,t)||(n.partOfSpeech=t),t}),e.k0s()()(),e.j41(41,"div",14)(42,"mat-form-field",6)(43,"mat-label"),e.EFF(44," Synonym"),e.k0s(),e.j41(45,"input",9),e.mxI("ngModelChange",function(t){return e.DH7(n.synonym,t)||(n.synonym=t),t}),e.k0s()()()()()),2&p&&(e.R7$(3),e.Y8G("routerLink","/"),e.R7$(2),e.Y8G("routerLink","/favorite-examples"),e.R7$(2),e.Y8G("disabled",!n.original),e.R7$(2),e.R50("ngModel",n.goToExamples),e.R7$(6),e.R50("ngModel",n.original),e.R7$(5),e.R50("ngModel",n.definition),e.R7$(5),e.R50("ngModel",n.translation),e.R7$(5),e.R50("ngModel",n.transcription),e.R7$(5),e.R50("ngModel",n.term),e.R7$(5),e.R50("ngModel",n.partOfSpeech),e.R7$(5),e.R50("ngModel",n.synonym))},dependencies:[s.YN,s.me,s.BC,s.YS,s.vS,h.RG,h.rl,h.nJ,d.fS,d.fg,g.Hl,g.$z,u.m_,c.Wk,_.g7,_.So],styles:[".component-content[_ngcontent-%COMP%]{display:block;padding:0;width:100vw;max-width:100vw;height:calc(100vh - 4px);max-height:calc(100vh - 4px);box-sizing:border-box;background:var(--background-color-main);background-image:var(--book-background-image);background-repeat:repeat;font-family:var(--font-family);color:var(--font-color-main)}.main[_ngcontent-%COMP%]{max-width:var(--max-book-width);padding:var(--padding-main);margin:auto;overflow:auto}.main[_ngcontent-%COMP%]   .add-new[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--padding-small)}.main[_ngcontent-%COMP%]   .add-new[_ngcontent-%COMP%]   .text-area[_ngcontent-%COMP%]{width:100%}.main[_ngcontent-%COMP%]   .phrases-list[_ngcontent-%COMP%]   .phrases-item[_ngcontent-%COMP%]   .phrases-item-tools[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--padding-small)}.main[_ngcontent-%COMP%]   .phrases-list[_ngcontent-%COMP%]   .phrases-item[_ngcontent-%COMP%]   .phrase-text[_ngcontent-%COMP%]{font-size:var(--font-size-original-text)}.dictionary[_ngcontent-%COMP%]{overflow:auto;width:var(--dictionary-width)}@media (max-width: 1000px){.dictionary[_ngcontent-%COMP%]{display:none}}"],changeDetection:0})}};i=(0,f.Cg)([(0,C.d)()],i)},7251:(v,E,a)=>{a.d(E,{f:()=>c});var f=a(4412),s=a(6697),h=a(7673),d=a(9040),g=a(4438),u=a(9456),C=a(9530);let c=(()=>{class _{constructor(e,o){this.dbService=e,this.infoService=o,this.examples$=new f.t([]),this.sort=(i,l)=>(i.toDoTimestamp||0)-(l.toDoTimestamp||0),this.dbService.getAll(d.Y.FavoriteExamples).pipe((0,s.s)(1)).subscribe(i=>{i.forEach(l=>l.showDetails=!1),i?(i.sort(this.sort),this.examples$.next(i)):this.examples$.next([])})}deleteAll(){return this.dbService.clear(d.Y.FavoriteExamples)}import(e){const o=JSON.parse(e)?.favoriteExamples;if(!o?.length)return console.error("!examples?.length"),this.infoService.error("!examples?.length"),(0,h.of)([]);const i=this.examples$.value.map(r=>r.timestamp);function l(r){return i.includes(r)?l(r+1):r}return o.forEach(r=>{if(!r.timestamp){const p=l(Date.now());i.push(p),r.timestamp=p}}),this.dbService.bulkAdd(d.Y.FavoriteExamples,o).pipe((0,s.s)(1))}addExample(e){const o=Date.now(),i={...e,timestamp:o,showDetails:!1};this.dbService.add(d.Y.FavoriteExamples,i).pipe((0,s.s)(1)).subscribe();const l=[i,...this.examples$.value];this.examples$.next(l),this.infoService.show("added: "+e.original)}update(e){if(!e?.timestamp||!e.toDoTimestamp)return;const o=this.examples$.value,i=o.find(l=>l.timestamp===e.timestamp);i&&(i.toDoTimestamp=e.toDoTimestamp,i.updateTimestamp=Date.now(),this.dbService.update(d.Y.FavoriteExamples,i).pipe((0,s.s)(1)).subscribe(),o.sort(this.sort),this.examples$.next(o))}removeExample(e){if(!e)return;this.dbService.delete(d.Y.FavoriteExamples,e).pipe((0,s.s)(1)).subscribe();const o=this.examples$.value.filter(i=>i.timestamp!==e);this.examples$.next(o)}static{this.\u0275fac=function(o){return new(o||_)(g.KVO(u.MX),g.KVO(C.O))}}static{this.\u0275prov=g.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()}}]);