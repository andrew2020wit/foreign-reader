import{a as L}from"./chunk-LXCVTINC.js";import{A as w,b as C,d as M,f as S,g,h as k,j as d,m as T,n as y,p as F,q as E,s as _,v as I,z as D}from"./chunk-QGR5JL6C.js";import{$b as v,Ba as p,La as r,Wa as n,Xa as e,Xc as B,Ya as c,Yc as G,ab as u,ac as b,ic as h,lb as a,ta as o,vb as f,xa as m}from"./chunk-5LRB2IYA.js";var O=()=>["/"],Q=(()=>{class l{constructor(s,i,t){this.bookService=s,this.loaderService=i,this.router=t,this.form=new k({title:new d("",[M.required]),description:new d("")})}ngOnInit(){this.form.controls.title.setValue(this.dbTitle.title),this.form.controls.description.setValue(this.dbTitle.description)}save(){this.form.controls.title.value&&(this.dbTitle.title=this.form.controls.title.value,this.dbTitle.description=this.form.controls.description.value||"",this.dbTitle.lastOpenedTime=Date.now(),this.loaderService.start(),this.bookService.updateTitle$(this.dbTitle).subscribe(()=>{this.loaderService.stop(),this.router.navigate(["/"]).then()}))}static{this.\u0275fac=function(i){return new(i||l)(m(h),m(L),m(v))}}static{this.\u0275cmp=p({type:l,selectors:[["app-edit-book-header"]],inputs:{dbTitle:"dbTitle"},decls:16,vars:6,consts:[[1,"component"],[1,"form",3,"formGroup"],["appearance","outline",1,"title"],["matInput","",3,"formControl"],["appearance","outline",1,"description"],[1,"buttons"],["mat-button","","color","primary",3,"routerLink"],["mat-button","","color","primary",3,"click","disabled"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),a(4,"Title"),e(),c(5,"input",3),e(),n(6,"mat-form-field",4)(7,"mat-label"),a(8,"Description"),e(),n(9,"textarea",3),a(10," "),e()()(),n(11,"div",5)(12,"button",6),a(13," Cancel"),e(),n(14,"button",7),u("click",function(){return t.save()}),a(15," Save"),e()()()),i&2&&(o(),r("formGroup",t.form),o(4),r("formControl",t.form.controls.title),o(4),r("formControl",t.form.controls.description),o(3),r("routerLink",f(5,O)),o(2),r("disabled",t.form.invalid))},dependencies:[F,C,S,g,w,D,I,_,E,T,y,G,B,b],styles:[".component[_ngcontent-%COMP%]{padding:var(--padding-main);padding-top:var(--padding-xlarge)}.component[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}}return l})();export{Q as EditBookHeaderComponent};
